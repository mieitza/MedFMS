module.exports=[42632,a=>{"use strict";var b=a.i(3236),c=a.i(91485),d=a.i(36305),e=a.i(91894),f=a.i(34763),g=a.i(9635),h=a.i(54593),i=a.i(64725),j=a.i(30647),k=a.i(29162),l=a.i(92687),m=a.i(51710),n=a.i(58287),o=a.i(12203),p=a.i(94123),q=a.i(96988),r=a.i(22697),s=a.i(92402),t=a.i(14874),u=a.i(66843),v=a.i(4393);a.i(84332);var w=a.i(52170);let x=g.z.object({vehicleCode:g.z.string().min(1,"Codul vehiculului este obligatoriu"),licensePlate:g.z.string().min(1,"Numărul de înmatriculare este obligatoriu"),brandId:g.z.coerce.number().min(1,"Marca este obligatorie"),modelId:g.z.coerce.number().min(1,"Modelul este obligatoriu"),year:g.z.coerce.number().optional().nullable(),vehicleTypeId:g.z.coerce.number().optional().nullable(),fuelTypeId:g.z.coerce.number().optional().nullable(),statusId:g.z.coerce.number().optional().nullable(),departmentId:g.z.coerce.number().optional().nullable(),locationId:g.z.coerce.number().optional().nullable(),odometer:g.z.coerce.number().optional().nullable(),registrationDate:g.z.string().optional().nullable(),acquisitionDate:g.z.string().optional().nullable(),vin:g.z.string().optional().nullable(),engineNumber:g.z.string().optional().nullable(),color:g.z.string().optional().nullable(),notes:g.z.string().optional().nullable(),anmdmAuthNumber:g.z.string().optional().nullable(),anmdmAuthType:g.z.string().optional().nullable(),isActive:g.z.boolean().default(!0)});function y({vehicle:a,isLoading:g=!1}){let p=(0,d.useRouter)(),y=!!a,A=(0,w.useCreateVehicle)(),B=(0,w.useUpdateVehicle)(),{data:C,isLoading:D}=(0,w.useBrands)(),{data:E,isLoading:F}=(0,w.useVehicleTypes)(),{data:G,isLoading:H}=(0,w.useVehicleStatuses)(),I=(0,e.useForm)({resolver:(0,f.zodResolver)(x),defaultValues:{vehicleCode:a?.vehicleCode||"",licensePlate:a?.licensePlate||"",brandId:a?.brandId||0,modelId:a?.modelId||0,year:a?.year||null,vehicleTypeId:a?.vehicleTypeId||null,fuelTypeId:a?.fuelTypeId||null,statusId:a?.statusId||null,departmentId:a?.departmentId||null,locationId:a?.locationId||null,odometer:a?.odometer||null,registrationDate:a?.registrationDate?.split("T")[0]||null,acquisitionDate:a?.acquisitionDate?.split("T")[0]||null,vin:a?.vin||null,engineNumber:a?.engineNumber||null,color:a?.color||null,notes:a?.notes||null,anmdmAuthNumber:a?.anmdmAuthNumber||null,anmdmAuthType:a?.anmdmAuthType||null,isActive:a?.isActive??!0}}),J=I.watch("brandId"),{data:K,isLoading:L}=(0,w.useModels)(J||void 0);c.useEffect(()=>{J&&a?.brandId!==J&&I.setValue("modelId",0)},[J,a?.brandId,I]);let M=async b=>{let c={vehicleCode:b.vehicleCode,licensePlate:b.licensePlate,brandId:b.brandId,modelId:b.modelId,year:b.year,vehicleTypeId:b.vehicleTypeId,fuelTypeId:b.fuelTypeId,statusId:b.statusId,departmentId:b.departmentId,locationId:b.locationId,odometer:b.odometer,registrationDate:b.registrationDate,acquisitionDate:b.acquisitionDate,vin:b.vin,engineNumber:b.engineNumber,color:b.color,notes:b.notes};if(y&&a)await B.mutateAsync({id:a.id,data:c}),p.push(`/vehicles/${a.id}`);else{let a=await A.mutateAsync(c);p.push(`/vehicles/${a.id}`)}},N=A.isPending||B.isPending;return g?(0,b.jsx)(z,{}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(h.Button,{variant:"ghost",size:"icon",onClick:()=>p.back(),children:(0,b.jsx)(q.ArrowLeft,{className:"h-4 w-4"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold tracking-tight text-slate-900 dark:text-slate-100",children:y?"Editează vehicul":"Vehicul nou"}),(0,b.jsx)("p",{className:"text-sm text-slate-500",children:y?`Modifică datele vehiculului ${a?.licensePlate}`:"Adaugă un vehicul nou în flotă"})]})]}),(0,b.jsx)(k.Form,{...I,children:(0,b.jsxs)("form",{onSubmit:I.handleSubmit(M),className:"space-y-6",children:[(0,b.jsxs)(n.Tabs,{defaultValue:"general",className:"space-y-4",children:[(0,b.jsxs)(n.TabsList,{children:[(0,b.jsxs)(n.TabsTrigger,{value:"general",children:[(0,b.jsx)(t.Car,{className:"mr-2 h-4 w-4"}),"Informații generale"]}),(0,b.jsxs)(n.TabsTrigger,{value:"technical",children:[(0,b.jsx)(u.Settings,{className:"mr-2 h-4 w-4"}),"Date tehnice"]}),(0,b.jsxs)(n.TabsTrigger,{value:"anmdm",children:[(0,b.jsx)(v.FileText,{className:"mr-2 h-4 w-4"}),"ANMDM"]})]}),(0,b.jsxs)(n.TabsContent,{value:"general",className:"space-y-4",children:[(0,b.jsxs)(m.Card,{children:[(0,b.jsxs)(m.CardHeader,{children:[(0,b.jsx)(m.CardTitle,{children:"Identificare"}),(0,b.jsx)(m.CardDescription,{children:"Informații de bază pentru identificarea vehiculului"})]}),(0,b.jsxs)(m.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,b.jsx)(k.FormField,{control:I.control,name:"vehicleCode",render:({field:a})=>(0,b.jsxs)(k.FormItem,{children:[(0,b.jsx)(k.FormLabel,{children:"Cod vehicul *"}),(0,b.jsx)(k.FormControl,{children:(0,b.jsx)(i.Input,{placeholder:"ex: VH001",...a})}),(0,b.jsx)(k.FormDescription,{children:"Cod unic de identificare internă"}),(0,b.jsx)(k.FormMessage,{})]})}),(0,b.jsx)(k.FormField,{control:I.control,name:"licensePlate",render:({field:a})=>(0,b.jsxs)(k.FormItem,{children:[(0,b.jsx)(k.FormLabel,{children:"Nr. înmatriculare *"}),(0,b.jsx)(k.FormControl,{children:(0,b.jsx)(i.Input,{placeholder:"ex: B 123 ABC",...a})}),(0,b.jsx)(k.FormMessage,{})]})})]}),(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-3",children:[(0,b.jsx)(k.FormField,{control:I.control,name:"brandId",render:({field:a})=>(0,b.jsxs)(k.FormItem,{children:[(0,b.jsx)(k.FormLabel,{children:"Marca *"}),(0,b.jsxs)(l.Select,{onValueChange:a.onChange,value:a.value?.toString()||"",disabled:D,children:[(0,b.jsx)(k.FormControl,{children:(0,b.jsx)(l.SelectTrigger,{children:(0,b.jsx)(l.SelectValue,{placeholder:"Selectează marca"})})}),(0,b.jsx)(l.SelectContent,{children:C?.map(a=>(0,b.jsx)(l.SelectItem,{value:a.id.toString(),children:a.name},a.id))})]}),(0,b.jsx)(k.FormMessage,{})]})}),(0,b.jsx)(k.FormField,{control:I.control,name:"modelId",render:({field:a})=>(0,b.jsxs)(k.FormItem,{children:[(0,b.jsx)(k.FormLabel,{children:"Model *"}),(0,b.jsxs)(l.Select,{onValueChange:a.onChange,value:a.value?.toString()||"",disabled:!J||L,children:[(0,b.jsx)(k.FormControl,{children:(0,b.jsx)(l.SelectTrigger,{children:(0,b.jsx)(l.SelectValue,{placeholder:"Selectează modelul"})})}),(0,b.jsx)(l.SelectContent,{children:K?.map(a=>(0,b.jsx)(l.SelectItem,{value:a.id.toString(),children:a.name},a.id))})]}),(0,b.jsx)(k.FormMessage,{})]})}),(0,b.jsx)(k.FormField,{control:I.control,name:"year",render:({field:a})=>(0,b.jsxs)(k.FormItem,{children:[(0,b.jsx)(k.FormLabel,{children:"An fabricație"}),(0,b.jsx)(k.FormControl,{children:(0,b.jsx)(i.Input,{type:"number",placeholder:"ex: 2023",...a,value:a.value??"",onChange:b=>a.onChange(b.target.value?parseInt(b.target.value):null)})}),(0,b.jsx)(k.FormMessage,{})]})})]}),(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,b.jsx)(k.FormField,{control:I.control,name:"vehicleTypeId",render:({field:a})=>(0,b.jsxs)(k.FormItem,{children:[(0,b.jsx)(k.FormLabel,{children:"Tip vehicul"}),(0,b.jsxs)(l.Select,{onValueChange:a.onChange,value:a.value?.toString()||"",disabled:F,children:[(0,b.jsx)(k.FormControl,{children:(0,b.jsx)(l.SelectTrigger,{children:(0,b.jsx)(l.SelectValue,{placeholder:"Selectează tipul"})})}),(0,b.jsx)(l.SelectContent,{children:E?.map(a=>(0,b.jsx)(l.SelectItem,{value:a.id.toString(),children:a.name},a.id))})]}),(0,b.jsx)(k.FormMessage,{})]})}),(0,b.jsx)(k.FormField,{control:I.control,name:"statusId",render:({field:a})=>(0,b.jsxs)(k.FormItem,{children:[(0,b.jsx)(k.FormLabel,{children:"Status"}),(0,b.jsxs)(l.Select,{onValueChange:a.onChange,value:a.value?.toString()||"",disabled:H,children:[(0,b.jsx)(k.FormControl,{children:(0,b.jsx)(l.SelectTrigger,{children:(0,b.jsx)(l.SelectValue,{placeholder:"Selectează statusul"})})}),(0,b.jsx)(l.SelectContent,{children:G?.map(a=>(0,b.jsx)(l.SelectItem,{value:a.id.toString(),children:a.name},a.id))})]}),(0,b.jsx)(k.FormMessage,{})]})})]}),(0,b.jsx)(k.FormField,{control:I.control,name:"color",render:({field:a})=>(0,b.jsxs)(k.FormItem,{children:[(0,b.jsx)(k.FormLabel,{children:"Culoare"}),(0,b.jsx)(k.FormControl,{children:(0,b.jsx)(i.Input,{placeholder:"ex: Alb",...a,value:a.value??""})}),(0,b.jsx)(k.FormMessage,{})]})})]})]}),(0,b.jsxs)(m.Card,{children:[(0,b.jsx)(m.CardHeader,{children:(0,b.jsx)(m.CardTitle,{children:"Date administrative"})}),(0,b.jsxs)(m.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,b.jsx)(k.FormField,{control:I.control,name:"registrationDate",render:({field:a})=>(0,b.jsxs)(k.FormItem,{children:[(0,b.jsx)(k.FormLabel,{children:"Data înmatriculării"}),(0,b.jsx)(k.FormControl,{children:(0,b.jsx)(i.Input,{type:"date",...a,value:a.value??""})}),(0,b.jsx)(k.FormMessage,{})]})}),(0,b.jsx)(k.FormField,{control:I.control,name:"acquisitionDate",render:({field:a})=>(0,b.jsxs)(k.FormItem,{children:[(0,b.jsx)(k.FormLabel,{children:"Data achiziției"}),(0,b.jsx)(k.FormControl,{children:(0,b.jsx)(i.Input,{type:"date",...a,value:a.value??""})}),(0,b.jsx)(k.FormMessage,{})]})})]}),(0,b.jsx)(k.FormField,{control:I.control,name:"isActive",render:({field:a})=>(0,b.jsxs)(k.FormItem,{className:"flex items-center justify-between rounded-lg border p-4",children:[(0,b.jsxs)("div",{className:"space-y-0.5",children:[(0,b.jsx)(k.FormLabel,{className:"text-base",children:"Vehicul activ"}),(0,b.jsx)(k.FormDescription,{children:"Vehiculele inactive nu vor apărea în listele de selecție"})]}),(0,b.jsx)(k.FormControl,{children:(0,b.jsx)(o.Switch,{checked:a.value,onCheckedChange:a.onChange})})]})})]})]}),(0,b.jsxs)(m.Card,{children:[(0,b.jsx)(m.CardHeader,{children:(0,b.jsx)(m.CardTitle,{children:"Notițe"})}),(0,b.jsx)(m.CardContent,{children:(0,b.jsx)(k.FormField,{control:I.control,name:"notes",render:({field:a})=>(0,b.jsxs)(k.FormItem,{children:[(0,b.jsx)(k.FormControl,{children:(0,b.jsx)(j.Textarea,{placeholder:"Adaugă notițe sau observații...",className:"min-h-[100px]",...a,value:a.value??""})}),(0,b.jsx)(k.FormMessage,{})]})})})]})]}),(0,b.jsx)(n.TabsContent,{value:"technical",className:"space-y-4",children:(0,b.jsxs)(m.Card,{children:[(0,b.jsxs)(m.CardHeader,{children:[(0,b.jsx)(m.CardTitle,{children:"Date tehnice"}),(0,b.jsx)(m.CardDescription,{children:"Informații tehnice despre vehicul"})]}),(0,b.jsxs)(m.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,b.jsx)(k.FormField,{control:I.control,name:"vin",render:({field:a})=>(0,b.jsxs)(k.FormItem,{children:[(0,b.jsx)(k.FormLabel,{children:"VIN (Serie șasiu)"}),(0,b.jsx)(k.FormControl,{children:(0,b.jsx)(i.Input,{placeholder:"ex: WVWZZZ3CZWE123456",...a,value:a.value??""})}),(0,b.jsx)(k.FormDescription,{children:"Vehicle Identification Number"}),(0,b.jsx)(k.FormMessage,{})]})}),(0,b.jsx)(k.FormField,{control:I.control,name:"engineNumber",render:({field:a})=>(0,b.jsxs)(k.FormItem,{children:[(0,b.jsx)(k.FormLabel,{children:"Nr. motor"}),(0,b.jsx)(k.FormControl,{children:(0,b.jsx)(i.Input,{placeholder:"ex: ABC123456",...a,value:a.value??""})}),(0,b.jsx)(k.FormMessage,{})]})})]}),(0,b.jsx)(k.FormField,{control:I.control,name:"odometer",render:({field:a})=>(0,b.jsxs)(k.FormItem,{children:[(0,b.jsx)(k.FormLabel,{children:"Kilometraj actual"}),(0,b.jsx)(k.FormControl,{children:(0,b.jsx)(i.Input,{type:"number",placeholder:"ex: 50000",...a,value:a.value??"",onChange:b=>a.onChange(b.target.value?parseInt(b.target.value):null)})}),(0,b.jsx)(k.FormDescription,{children:"Kilometri parcurși"}),(0,b.jsx)(k.FormMessage,{})]})})]})]})}),(0,b.jsx)(n.TabsContent,{value:"anmdm",className:"space-y-4",children:(0,b.jsxs)(m.Card,{children:[(0,b.jsxs)(m.CardHeader,{children:[(0,b.jsx)(m.CardTitle,{children:"Autorizație ANMDM"}),(0,b.jsx)(m.CardDescription,{children:"Informații privind autorizația pentru transportul medicamentelor"})]}),(0,b.jsx)(m.CardContent,{className:"space-y-4",children:(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,b.jsx)(k.FormField,{control:I.control,name:"anmdmAuthNumber",render:({field:a})=>(0,b.jsxs)(k.FormItem,{children:[(0,b.jsx)(k.FormLabel,{children:"Nr. autorizație"}),(0,b.jsx)(k.FormControl,{children:(0,b.jsx)(i.Input,{placeholder:"ex: AUTH-2024-001",...a,value:a.value??""})}),(0,b.jsx)(k.FormMessage,{})]})}),(0,b.jsx)(k.FormField,{control:I.control,name:"anmdmAuthType",render:({field:a})=>(0,b.jsxs)(k.FormItem,{children:[(0,b.jsx)(k.FormLabel,{children:"Tip autorizație"}),(0,b.jsxs)(l.Select,{onValueChange:a.onChange,value:a.value??"",children:[(0,b.jsx)(k.FormControl,{children:(0,b.jsx)(l.SelectTrigger,{children:(0,b.jsx)(l.SelectValue,{placeholder:"Selectează tipul"})})}),(0,b.jsxs)(l.SelectContent,{children:[(0,b.jsx)(l.SelectItem,{value:"standard",children:"Standard"}),(0,b.jsx)(l.SelectItem,{value:"temperatura_controlata",children:"Temperatură controlată"}),(0,b.jsx)(l.SelectItem,{value:"stupefiante",children:"Stupefiante"})]})]}),(0,b.jsx)(k.FormMessage,{})]})})]})})]})})]}),(0,b.jsxs)("div",{className:"flex items-center justify-end gap-4",children:[(0,b.jsx)(h.Button,{type:"button",variant:"outline",onClick:()=>p.back(),children:"Anulează"}),(0,b.jsxs)(h.Button,{type:"submit",disabled:N,children:[N&&(0,b.jsx)(s.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),(0,b.jsx)(r.Save,{className:"mr-2 h-4 w-4"}),y?"Salvează modificările":"Creează vehicul"]})]})]})})]})}function z(){return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(p.Skeleton,{className:"h-10 w-10"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(p.Skeleton,{className:"h-8 w-48"}),(0,b.jsx)(p.Skeleton,{className:"h-4 w-64"})]})]}),(0,b.jsx)(p.Skeleton,{className:"h-10 w-full max-w-md"}),(0,b.jsxs)(m.Card,{children:[(0,b.jsxs)(m.CardHeader,{children:[(0,b.jsx)(p.Skeleton,{className:"h-6 w-40"}),(0,b.jsx)(p.Skeleton,{className:"h-4 w-60"})]}),(0,b.jsx)(m.CardContent,{className:"space-y-4",children:(0,b.jsx)("div",{className:"grid gap-4 sm:grid-cols-2",children:Array.from({length:6}).map((a,c)=>(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(p.Skeleton,{className:"h-4 w-24"}),(0,b.jsx)(p.Skeleton,{className:"h-10 w-full"})]},c))})})]})]})}a.s(["VehicleForm",()=>y])}];

//# sourceMappingURL=app_frontend-next_src_components_vehicles_vehicle-form_tsx_181306c1._.js.map