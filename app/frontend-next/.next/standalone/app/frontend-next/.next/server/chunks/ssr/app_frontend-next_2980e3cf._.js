module.exports=[96988,a=>{"use strict";let b=(0,a.i(82530).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],96988)},53048,a=>{"use strict";var b=a.i(98544),c=a.i(73248),d=a.i(13942),e=a.i(25181),f=a.i(61335);let g={all:["warehouse"],materials:()=>[...g.all,"materials"],materialsList:a=>[...g.materials(),"list",a],materialDetail:a=>[...g.materials(),"detail",a],transfers:()=>[...g.all,"transfers"],transfersList:a=>[...g.transfers(),"list",a],transferDetail:a=>[...g.transfers(),"detail",a],stats:()=>[...g.all,"stats"],warehouses:["warehouses"],warehouseDetail:a=>["warehouses","detail",a],materialUnits:["materialUnits"],materialCategories:["materialCategories"]};function h(a={}){return(0,b.useQuery)({queryKey:g.materialsList(a),queryFn:()=>e.warehouseApi.getMaterials(a),placeholderData:a=>a})}function i(a){return(0,b.useQuery)({queryKey:g.materialDetail(a),queryFn:()=>e.warehouseApi.getMaterialById(a),enabled:!!a})}function j(){let a=(0,d.useQueryClient)();return(0,c.useMutation)({mutationFn:a=>e.warehouseApi.createMaterial(a),onSuccess:()=>{a.invalidateQueries({queryKey:g.materials()}),a.invalidateQueries({queryKey:g.stats()}),f.toast.success("Materialul a fost creat cu succes")},onError:a=>{f.toast.error(`Eroare la crearea materialului: ${a.message}`)}})}function k(){let a=(0,d.useQueryClient)();return(0,c.useMutation)({mutationFn:({id:a,data:b})=>e.warehouseApi.updateMaterial(a,b),onSuccess:b=>{a.invalidateQueries({queryKey:g.materials()}),a.invalidateQueries({queryKey:g.materialDetail(b.id)}),a.invalidateQueries({queryKey:g.stats()}),f.toast.success("Materialul a fost actualizat cu succes")},onError:a=>{f.toast.error(`Eroare la actualizarea materialului: ${a.message}`)}})}function l(){let a=(0,d.useQueryClient)();return(0,c.useMutation)({mutationFn:a=>e.warehouseApi.deleteMaterial(a),onSuccess:()=>{a.invalidateQueries({queryKey:g.materials()}),a.invalidateQueries({queryKey:g.stats()}),f.toast.success("Materialul a fost șters cu succes")},onError:a=>{f.toast.error(`Eroare la ștergerea materialului: ${a.message}`)}})}function m(a={}){return(0,b.useQuery)({queryKey:g.transfersList(a),queryFn:()=>e.warehouseApi.getTransferRequests(a),placeholderData:a=>a})}function n(a){return(0,b.useQuery)({queryKey:g.transferDetail(a),queryFn:()=>e.warehouseApi.getTransferRequestById(a),enabled:!!a})}function o(){let a=(0,d.useQueryClient)();return(0,c.useMutation)({mutationFn:a=>e.warehouseApi.createTransferRequest(a),onSuccess:()=>{a.invalidateQueries({queryKey:g.transfers()}),a.invalidateQueries({queryKey:g.stats()}),f.toast.success("Cererea de transfer a fost creată cu succes")},onError:a=>{f.toast.error(`Eroare la crearea cererii: ${a.message}`)}})}function p(){let a=(0,d.useQueryClient)();return(0,c.useMutation)({mutationFn:({id:a,status:b})=>e.warehouseApi.updateTransferStatus(a,b),onSuccess:b=>{a.invalidateQueries({queryKey:g.transfers()}),a.invalidateQueries({queryKey:g.transferDetail(b.id)}),a.invalidateQueries({queryKey:g.stats()}),a.invalidateQueries({queryKey:g.materials()}),f.toast.success("Statusul cererii a fost actualizat")},onError:a=>{f.toast.error(`Eroare la actualizarea statusului: ${a.message}`)}})}function q(){return(0,b.useQuery)({queryKey:[...g.all,"lowStock"],queryFn:()=>e.warehouseApi.getLowStockMaterials()})}function r(){return(0,b.useQuery)({queryKey:g.warehouses,queryFn:()=>e.warehouseApi.getWarehouses(),staleTime:6e5})}function s(a){return(0,b.useQuery)({queryKey:g.warehouseDetail(a),queryFn:()=>e.warehouseApi.getWarehouseById(a),enabled:!!a})}function t(){let a=(0,d.useQueryClient)();return(0,c.useMutation)({mutationFn:({id:a,data:b})=>e.warehouseApi.updateWarehouse(a,b),onSuccess:b=>{a.invalidateQueries({queryKey:g.warehouses}),a.invalidateQueries({queryKey:g.warehouseDetail(b.id)}),f.toast.success("Depozitul a fost actualizat cu succes")},onError:a=>{f.toast.error(`Eroare la actualizarea depozitului: ${a.message}`)}})}function u(){return(0,b.useQuery)({queryKey:g.materialUnits,queryFn:()=>e.warehouseApi.getMaterialUnits(),staleTime:6e5})}a.s(["useCreateMaterial",()=>j,"useCreateTransferRequest",()=>o,"useDeleteMaterial",()=>l,"useLowStockMaterials",()=>q,"useMaterial",()=>i,"useMaterialUnits",()=>u,"useMaterials",()=>h,"useTransferRequest",()=>n,"useTransferRequests",()=>m,"useUpdateMaterial",()=>k,"useUpdateTransferStatus",()=>p,"useUpdateWarehouse",()=>t,"useWarehouse",()=>s,"useWarehouses",()=>r])},44600,a=>{"use strict";let b=(0,a.i(82530).default)("gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);a.s(["Gauge",()=>b],44600)},77701,a=>{"use strict";let b=(0,a.i(82530).default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);a.s(["CreditCard",()=>b],77701)},90186,a=>{"use strict";let b=(0,a.i(82530).default)("receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);a.s(["Receipt",()=>b],90186)},35786,a=>{"use strict";var b=a.i(3236),c=a.i(36305),d=a.i(52790),e=a.i(54593),f=a.i(51710),g=a.i(94123),h=a.i(46863),i=a.i(96988),j=a.i(85866),k=a.i(80049),l=a.i(59489),m=a.i(44600),n=a.i(77701),o=a.i(90186);a.i(84332);var p=a.i(14059),q=a.i(87244),r=a.i(18187);function s(){let a=(0,c.useParams)(),g=(0,c.useRouter)(),s=a.id?parseInt(a.id):null,{data:v,isLoading:w,isError:x}=(0,p.useFuelTransaction)(s),y=(0,p.useDeleteFuelTransaction)(),z=async()=>{s&&(await y.mutateAsync(s),g.push("/fuel"))};if(w)return(0,b.jsx)(u,{});if(x||!v)return(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,b.jsx)(l.Fuel,{className:"mb-4 h-12 w-12 text-slate-400"}),(0,b.jsx)("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Tranzacția nu a fost găsită"}),(0,b.jsx)("p",{className:"mb-4 text-sm text-slate-500",children:"Este posibil ca tranzacția să fi fost ștearsă sau să nu aveți acces."}),(0,b.jsxs)(e.Button,{variant:"outline",onClick:()=>g.push("/fuel"),children:[(0,b.jsx)(i.ArrowLeft,{className:"mr-2 h-4 w-4"}),"Înapoi la listă"]})]});let A=a=>a?(0,q.format)(new Date(a),"dd MMMM yyyy",{locale:r.ro}):"-",B=a=>a?(0,q.format)(new Date(a),"dd MMMM yyyy, HH:mm",{locale:r.ro}):"-",C=a=>null===a?"-":new Intl.NumberFormat("ro-RO",{style:"currency",currency:"RON"}).format(a);return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between",children:[(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)(e.Button,{variant:"ghost",size:"icon",onClick:()=>g.back(),children:(0,b.jsx)(i.ArrowLeft,{className:"h-4 w-4"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"flex items-center gap-3",children:(0,b.jsxs)("h1",{className:"text-2xl font-bold tracking-tight text-slate-900 dark:text-slate-100",children:["Alimentare #",v.id]})}),(0,b.jsxs)("p",{className:"text-sm text-slate-500",children:[A(v.transactionDate)," - ",v.vehicle?.licensePlate]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(e.Button,{variant:"outline",asChild:!0,children:(0,b.jsxs)(d.default,{href:`/fuel/${v.id}/edit`,children:[(0,b.jsx)(j.Pencil,{className:"mr-2 h-4 w-4"}),"Editează"]})}),(0,b.jsxs)(h.AlertDialog,{children:[(0,b.jsx)(h.AlertDialogTrigger,{asChild:!0,children:(0,b.jsxs)(e.Button,{variant:"outline",className:"text-red-600 hover:text-red-700",children:[(0,b.jsx)(k.Trash2,{className:"mr-2 h-4 w-4"}),"Șterge"]})}),(0,b.jsxs)(h.AlertDialogContent,{children:[(0,b.jsxs)(h.AlertDialogHeader,{children:[(0,b.jsx)(h.AlertDialogTitle,{children:"Ești sigur că vrei să ștergi această tranzacție?"}),(0,b.jsx)(h.AlertDialogDescription,{children:"Această acțiune nu poate fi anulată. Tranzacția va fi ștearsă definitiv."})]}),(0,b.jsxs)(h.AlertDialogFooter,{children:[(0,b.jsx)(h.AlertDialogCancel,{children:"Anulează"}),(0,b.jsx)(h.AlertDialogAction,{onClick:z,className:"bg-red-600 hover:bg-red-700",children:"Șterge"})]})]})]})]})]}),(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[(0,b.jsx)(f.Card,{children:(0,b.jsx)(f.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"rounded-lg bg-amber-100 p-3 dark:bg-amber-900/30",children:(0,b.jsx)(l.Fuel,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-slate-500",children:"Cantitate"}),(0,b.jsxs)("p",{className:"text-lg font-semibold",children:[v.quantity.toLocaleString("ro-RO")," L"]})]})]})})}),(0,b.jsx)(f.Card,{children:(0,b.jsx)(f.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"rounded-lg bg-green-100 p-3 dark:bg-green-900/30",children:(0,b.jsx)(o.Receipt,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-slate-500",children:"Cost total"}),(0,b.jsx)("p",{className:"text-lg font-semibold",children:C(v.totalCost)})]})]})})}),(0,b.jsx)(f.Card,{children:(0,b.jsx)(f.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"rounded-lg bg-blue-100 p-3 dark:bg-blue-900/30",children:(0,b.jsx)(n.CreditCard,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-slate-500",children:"Preț/litru"}),(0,b.jsx)("p",{className:"text-lg font-semibold",children:v.pricePerUnit?`${v.pricePerUnit.toFixed(2)} RON`:"-"})]})]})})}),(0,b.jsx)(f.Card,{children:(0,b.jsx)(f.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"rounded-lg bg-purple-100 p-3 dark:bg-purple-900/30",children:(0,b.jsx)(m.Gauge,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-slate-500",children:"Kilometraj"}),(0,b.jsx)("p",{className:"text-lg font-semibold",children:v.odometer?`${v.odometer.toLocaleString("ro-RO")} km`:"-"})]})]})})})]}),(0,b.jsxs)("div",{className:"grid gap-4 lg:grid-cols-2",children:[(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsx)(f.CardTitle,{children:"Detalii tranzacție"})}),(0,b.jsxs)(f.CardContent,{className:"space-y-4",children:[(0,b.jsx)(t,{label:"ID tranzacție",value:`#${v.id}`}),(0,b.jsx)(t,{label:"Data tranzacției",value:A(v.transactionDate)}),(0,b.jsx)(t,{label:"Data livrării",value:A(v.deliveryDate)}),(0,b.jsx)(t,{label:"Tip combustibil",value:v.fuelType?.name}),(0,b.jsx)(t,{label:"Cantitate",value:`${v.quantity.toLocaleString("ro-RO")} L`}),(0,b.jsx)(t,{label:"Preț per unitate",value:v.pricePerUnit?`${v.pricePerUnit.toFixed(2)} RON/L`:void 0}),(0,b.jsx)(t,{label:"Cost total",value:C(v.totalCost)})]})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsx)(f.CardTitle,{children:"Vehicul și șofer"})}),(0,b.jsxs)(f.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-slate-500",children:"Vehicul"}),(0,b.jsxs)(d.default,{href:`/vehicles/${v.vehicleId}`,className:"text-sm font-medium text-blue-600 hover:underline dark:text-blue-400",children:[v.vehicle?.licensePlate," (",v.vehicle?.vehicleCode,")"]})]}),v.driver&&(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-slate-500",children:"Șofer"}),(0,b.jsxs)(d.default,{href:`/drivers/${v.driverId}`,className:"text-sm font-medium text-blue-600 hover:underline dark:text-blue-400",children:[v.driver.firstName," ",v.driver.lastName]})]}),(0,b.jsx)(t,{label:"Kilometraj la alimentare",value:v.odometer?`${v.odometer.toLocaleString("ro-RO")} km`:void 0})]})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsx)(f.CardTitle,{children:"Stație și plată"})}),(0,b.jsxs)(f.CardContent,{className:"space-y-4",children:[(0,b.jsx)(t,{label:"Stație alimentare",value:v.fuelStation?.name}),(0,b.jsx)(t,{label:"Nr. card",value:v.cardNumber}),(0,b.jsx)(t,{label:"Centru cost",value:v.costCenter})]})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsx)(f.CardTitle,{children:"Facturare"})}),(0,b.jsxs)(f.CardContent,{className:"space-y-4",children:[(0,b.jsx)(t,{label:"Nr. factură",value:v.invoiceNumber}),(0,b.jsx)(t,{label:"Data facturii",value:A(v.invoiceDate)})]})]})]}),v.notes&&(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsx)(f.CardTitle,{children:"Notițe"})}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400 whitespace-pre-wrap",children:v.notes})})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsx)(f.CardTitle,{children:"Informații sistem"})}),(0,b.jsxs)(f.CardContent,{className:"space-y-4",children:[(0,b.jsx)(t,{label:"Creat la",value:B(v.createdAt)}),(0,b.jsx)(t,{label:"Ultima actualizare",value:B(v.updatedAt)})]})]})]})}function t({label:a,value:c}){return(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-slate-500",children:a}),(0,b.jsx)("span",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:c||"-"})]})}function u(){return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)(g.Skeleton,{className:"h-10 w-10"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Skeleton,{className:"h-8 w-48"}),(0,b.jsx)(g.Skeleton,{className:"h-4 w-32"})]})]}),(0,b.jsx)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:Array.from({length:4}).map((a,c)=>(0,b.jsx)(f.Card,{children:(0,b.jsx)(f.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(g.Skeleton,{className:"h-12 w-12 rounded-lg"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Skeleton,{className:"h-4 w-20"}),(0,b.jsx)(g.Skeleton,{className:"h-6 w-24"})]})]})})},c))}),(0,b.jsx)("div",{className:"grid gap-4 lg:grid-cols-2",children:Array.from({length:4}).map((a,c)=>(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsx)(g.Skeleton,{className:"h-6 w-40"})}),(0,b.jsx)(f.CardContent,{className:"space-y-4",children:Array.from({length:5}).map((a,c)=>(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)(g.Skeleton,{className:"h-4 w-24"}),(0,b.jsx)(g.Skeleton,{className:"h-4 w-32"})]},c))})]},c))})]})}a.s(["default",()=>s])}];

//# sourceMappingURL=app_frontend-next_2980e3cf._.js.map