module.exports=[96988,a=>{"use strict";let b=(0,a.i(82530).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],96988)},53048,a=>{"use strict";var b=a.i(98544),c=a.i(73248),d=a.i(13942),e=a.i(25181),f=a.i(61335);let g={all:["warehouse"],materials:()=>[...g.all,"materials"],materialsList:a=>[...g.materials(),"list",a],materialDetail:a=>[...g.materials(),"detail",a],transfers:()=>[...g.all,"transfers"],transfersList:a=>[...g.transfers(),"list",a],transferDetail:a=>[...g.transfers(),"detail",a],stats:()=>[...g.all,"stats"],warehouses:["warehouses"],warehouseDetail:a=>["warehouses","detail",a],materialUnits:["materialUnits"],materialCategories:["materialCategories"]};function h(a={}){return(0,b.useQuery)({queryKey:g.materialsList(a),queryFn:()=>e.warehouseApi.getMaterials(a),placeholderData:a=>a})}function i(a){return(0,b.useQuery)({queryKey:g.materialDetail(a),queryFn:()=>e.warehouseApi.getMaterialById(a),enabled:!!a})}function j(){let a=(0,d.useQueryClient)();return(0,c.useMutation)({mutationFn:a=>e.warehouseApi.createMaterial(a),onSuccess:()=>{a.invalidateQueries({queryKey:g.materials()}),a.invalidateQueries({queryKey:g.stats()}),f.toast.success("Materialul a fost creat cu succes")},onError:a=>{f.toast.error(`Eroare la crearea materialului: ${a.message}`)}})}function k(){let a=(0,d.useQueryClient)();return(0,c.useMutation)({mutationFn:({id:a,data:b})=>e.warehouseApi.updateMaterial(a,b),onSuccess:b=>{a.invalidateQueries({queryKey:g.materials()}),a.invalidateQueries({queryKey:g.materialDetail(b.id)}),a.invalidateQueries({queryKey:g.stats()}),f.toast.success("Materialul a fost actualizat cu succes")},onError:a=>{f.toast.error(`Eroare la actualizarea materialului: ${a.message}`)}})}function l(){let a=(0,d.useQueryClient)();return(0,c.useMutation)({mutationFn:a=>e.warehouseApi.deleteMaterial(a),onSuccess:()=>{a.invalidateQueries({queryKey:g.materials()}),a.invalidateQueries({queryKey:g.stats()}),f.toast.success("Materialul a fost șters cu succes")},onError:a=>{f.toast.error(`Eroare la ștergerea materialului: ${a.message}`)}})}function m(a={}){return(0,b.useQuery)({queryKey:g.transfersList(a),queryFn:()=>e.warehouseApi.getTransferRequests(a),placeholderData:a=>a})}function n(a){return(0,b.useQuery)({queryKey:g.transferDetail(a),queryFn:()=>e.warehouseApi.getTransferRequestById(a),enabled:!!a})}function o(){let a=(0,d.useQueryClient)();return(0,c.useMutation)({mutationFn:a=>e.warehouseApi.createTransferRequest(a),onSuccess:()=>{a.invalidateQueries({queryKey:g.transfers()}),a.invalidateQueries({queryKey:g.stats()}),f.toast.success("Cererea de transfer a fost creată cu succes")},onError:a=>{f.toast.error(`Eroare la crearea cererii: ${a.message}`)}})}function p(){let a=(0,d.useQueryClient)();return(0,c.useMutation)({mutationFn:({id:a,status:b})=>e.warehouseApi.updateTransferStatus(a,b),onSuccess:b=>{a.invalidateQueries({queryKey:g.transfers()}),a.invalidateQueries({queryKey:g.transferDetail(b.id)}),a.invalidateQueries({queryKey:g.stats()}),a.invalidateQueries({queryKey:g.materials()}),f.toast.success("Statusul cererii a fost actualizat")},onError:a=>{f.toast.error(`Eroare la actualizarea statusului: ${a.message}`)}})}function q(){return(0,b.useQuery)({queryKey:[...g.all,"lowStock"],queryFn:()=>e.warehouseApi.getLowStockMaterials()})}function r(){return(0,b.useQuery)({queryKey:g.warehouses,queryFn:()=>e.warehouseApi.getWarehouses(),staleTime:6e5})}function s(a){return(0,b.useQuery)({queryKey:g.warehouseDetail(a),queryFn:()=>e.warehouseApi.getWarehouseById(a),enabled:!!a})}function t(){let a=(0,d.useQueryClient)();return(0,c.useMutation)({mutationFn:({id:a,data:b})=>e.warehouseApi.updateWarehouse(a,b),onSuccess:b=>{a.invalidateQueries({queryKey:g.warehouses}),a.invalidateQueries({queryKey:g.warehouseDetail(b.id)}),f.toast.success("Depozitul a fost actualizat cu succes")},onError:a=>{f.toast.error(`Eroare la actualizarea depozitului: ${a.message}`)}})}function u(){return(0,b.useQuery)({queryKey:g.materialUnits,queryFn:()=>e.warehouseApi.getMaterialUnits(),staleTime:6e5})}a.s(["useCreateMaterial",()=>j,"useCreateTransferRequest",()=>o,"useDeleteMaterial",()=>l,"useLowStockMaterials",()=>q,"useMaterial",()=>i,"useMaterialUnits",()=>u,"useMaterials",()=>h,"useTransferRequest",()=>n,"useTransferRequests",()=>m,"useUpdateMaterial",()=>k,"useUpdateTransferStatus",()=>p,"useUpdateWarehouse",()=>t,"useWarehouse",()=>s,"useWarehouses",()=>r])},52472,a=>{"use strict";let b=(0,a.i(82530).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);a.s(["DollarSign",()=>b],52472)},93473,a=>{"use strict";var b=a.i(24884);a.s(["AlertTriangle",()=>b.default])},47282,a=>{"use strict";let b=(0,a.i(82530).default)("warehouse",[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);a.s(["Warehouse",()=>b],47282)},93912,a=>{"use strict";var b=a.i(3236),c=a.i(36305),d=a.i(52790),e=a.i(54593),f=a.i(21944),g=a.i(51710),h=a.i(94123),i=a.i(46863),j=a.i(96988),k=a.i(85866),l=a.i(80049),m=a.i(30067),n=a.i(47282),o=a.i(52472),p=a.i(93473);a.i(84332);var q=a.i(53048),r=a.i(87244),s=a.i(18187);function t(){var a;let h=(0,c.useParams)(),t=(0,c.useRouter)(),w=h.id?parseInt(h.id):null,{data:x,isLoading:y,isError:z}=(0,q.useMaterial)(w),A=(0,q.useDeleteMaterial)(),B=async()=>{w&&(await A.mutateAsync(w),t.push("/warehouse"))};if(y)return(0,b.jsx)(v,{});if(z||!x)return(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,b.jsx)(m.Package,{className:"mb-4 h-12 w-12 text-slate-400"}),(0,b.jsx)("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Materialul nu a fost găsit"}),(0,b.jsx)("p",{className:"mb-4 text-sm text-slate-500",children:"Este posibil ca materialul să fi fost șters sau să nu aveți acces."}),(0,b.jsxs)(e.Button,{variant:"outline",onClick:()=>t.push("/warehouse"),children:[(0,b.jsx)(j.ArrowLeft,{className:"mr-2 h-4 w-4"}),"Înapoi la depozit"]})]});let C=a=>a?(0,r.format)(new Date(a),"dd MMMM yyyy, HH:mm",{locale:s.ro}):"-",D=a=>null===a?"-":new Intl.NumberFormat("ro-RO",{style:"currency",currency:"RON"}).format(a),E=x.criticalLevel&&x.currentStock<=x.criticalLevel;return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between",children:[(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)(e.Button,{variant:"ghost",size:"icon",onClick:()=>t.back(),children:(0,b.jsx)(j.ArrowLeft,{className:"h-4 w-4"})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold tracking-tight text-slate-900 dark:text-slate-100",children:x.name}),(0,b.jsx)(f.Badge,{variant:x.isActive?"default":"secondary",children:x.isActive?"Activ":"Inactiv"}),E&&(0,b.jsxs)(f.Badge,{variant:"destructive",className:"gap-1",children:[(0,b.jsx)(p.AlertTriangle,{className:"h-3 w-3"}),"Stoc critic"]})]}),(0,b.jsx)("p",{className:"text-sm text-slate-500",children:x.materialCode})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(e.Button,{variant:"outline",asChild:!0,children:(0,b.jsxs)(d.default,{href:`/warehouse/materials/${x.id}/edit`,children:[(0,b.jsx)(k.Pencil,{className:"mr-2 h-4 w-4"}),"Editează"]})}),(0,b.jsxs)(i.AlertDialog,{children:[(0,b.jsx)(i.AlertDialogTrigger,{asChild:!0,children:(0,b.jsxs)(e.Button,{variant:"outline",className:"text-red-600 hover:text-red-700",children:[(0,b.jsx)(l.Trash2,{className:"mr-2 h-4 w-4"}),"Șterge"]})}),(0,b.jsxs)(i.AlertDialogContent,{children:[(0,b.jsxs)(i.AlertDialogHeader,{children:[(0,b.jsx)(i.AlertDialogTitle,{children:"Ești sigur că vrei să ștergi acest material?"}),(0,b.jsx)(i.AlertDialogDescription,{children:"Această acțiune nu poate fi anulată. Materialul va fi marcat ca inactiv."})]}),(0,b.jsxs)(i.AlertDialogFooter,{children:[(0,b.jsx)(i.AlertDialogCancel,{children:"Anulează"}),(0,b.jsx)(i.AlertDialogAction,{onClick:B,className:"bg-red-600 hover:bg-red-700",children:"Șterge"})]})]})]})]})]}),(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[(0,b.jsx)(g.Card,{children:(0,b.jsx)(g.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:`rounded-lg p-3 ${E?"bg-red-100 dark:bg-red-900/30":"bg-blue-100 dark:bg-blue-900/30"}`,children:(0,b.jsx)(m.Package,{className:`h-5 w-5 ${E?"text-red-600 dark:text-red-400":"text-blue-600 dark:text-blue-400"}`})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-slate-500",children:"Stoc curent"}),(0,b.jsxs)("p",{className:`text-lg font-semibold ${E?"text-red-600":""}`,children:[x.currentStock," ",x.unit?.abbreviation||"buc"]})]})]})})}),(0,b.jsx)(g.Card,{children:(0,b.jsx)(g.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"rounded-lg bg-amber-100 p-3 dark:bg-amber-900/30",children:(0,b.jsx)(p.AlertTriangle,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-slate-500",children:"Nivel critic"}),(0,b.jsxs)("p",{className:"text-lg font-semibold",children:[x.criticalLevel??"-"," ",x.unit?.abbreviation||"buc"]})]})]})})}),(0,b.jsx)(g.Card,{children:(0,b.jsx)(g.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"rounded-lg bg-green-100 p-3 dark:bg-green-900/30",children:(0,b.jsx)(o.DollarSign,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-slate-500",children:"Preț standard"}),(0,b.jsx)("p",{className:"text-lg font-semibold",children:D(x.standardPrice)})]})]})})}),(0,b.jsx)(g.Card,{children:(0,b.jsx)(g.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"rounded-lg bg-purple-100 p-3 dark:bg-purple-900/30",children:(0,b.jsx)(n.Warehouse,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-slate-500",children:"Depozit"}),(0,b.jsx)("p",{className:"text-lg font-semibold",children:x.warehouse?.name||"-"})]})]})})})]}),(0,b.jsxs)("div",{className:"grid gap-4 lg:grid-cols-2",children:[(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsx)(g.CardTitle,{children:"Informații generale"})}),(0,b.jsxs)(g.CardContent,{className:"space-y-4",children:[(0,b.jsx)(u,{label:"Cod material",value:x.materialCode}),(0,b.jsx)(u,{label:"Denumire",value:x.name}),(0,b.jsx)(u,{label:"Descriere",value:x.description}),(0,b.jsx)(u,{label:"Unitate măsură",value:x.unit?.name})]})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsx)(g.CardTitle,{children:"Informații stoc"})}),(0,b.jsxs)(g.CardContent,{className:"space-y-4",children:[(0,b.jsx)(u,{label:"Stoc curent",value:`${x.currentStock} ${x.unit?.abbreviation||"buc"}`}),(0,b.jsx)(u,{label:"Nivel critic",value:x.criticalLevel?.toString()}),(0,b.jsx)(u,{label:"Depozit",value:x.warehouse?.name}),(0,b.jsx)(u,{label:"Locație în depozit",value:x.locationInWarehouse})]})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsx)(g.CardTitle,{children:"Prețuri"})}),(0,b.jsxs)(g.CardContent,{className:"space-y-4",children:[(0,b.jsx)(u,{label:"Preț standard",value:D(x.standardPrice)}),(0,b.jsx)(u,{label:"Ultimul preț achiziție",value:D(x.lastPurchasePrice)}),(0,b.jsx)(u,{label:"Ultimul preț vânzare",value:D(x.lastSalePrice)})]})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsx)(g.CardTitle,{children:"Identificare"})}),(0,b.jsxs)(g.CardContent,{className:"space-y-4",children:[(0,b.jsx)(u,{label:"Cod de bare",value:x.barcode}),(0,b.jsx)(u,{label:"Serie",value:x.serialNumber}),(0,b.jsx)(u,{label:"Data expirare",value:(a=x.expirationDate)?(0,r.format)(new Date(a),"dd MMMM yyyy",{locale:s.ro}):"-"})]})]})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsx)(g.CardTitle,{children:"Informații sistem"})}),(0,b.jsxs)(g.CardContent,{className:"space-y-4",children:[(0,b.jsx)(u,{label:"Creat la",value:C(x.createdAt)}),(0,b.jsx)(u,{label:"Ultima actualizare",value:C(x.updatedAt)})]})]})]})}function u({label:a,value:c}){return(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-slate-500",children:a}),(0,b.jsx)("span",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:c||"-"})]})}function v(){return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)(h.Skeleton,{className:"h-10 w-10"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Skeleton,{className:"h-8 w-48"}),(0,b.jsx)(h.Skeleton,{className:"h-4 w-32"})]})]}),(0,b.jsx)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:Array.from({length:4}).map((a,c)=>(0,b.jsx)(g.Card,{children:(0,b.jsx)(g.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(h.Skeleton,{className:"h-12 w-12 rounded-lg"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Skeleton,{className:"h-4 w-20"}),(0,b.jsx)(h.Skeleton,{className:"h-6 w-24"})]})]})})},c))}),(0,b.jsx)("div",{className:"grid gap-4 lg:grid-cols-2",children:Array.from({length:4}).map((a,c)=>(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsx)(h.Skeleton,{className:"h-6 w-40"})}),(0,b.jsx)(g.CardContent,{className:"space-y-4",children:Array.from({length:4}).map((a,c)=>(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)(h.Skeleton,{className:"h-4 w-24"}),(0,b.jsx)(h.Skeleton,{className:"h-4 w-32"})]},c))})]},c))})]})}a.s(["default",()=>t])}];

//# sourceMappingURL=app_frontend-next_84bdffea._.js.map