module.exports=[75138,a=>{"use strict";var b=a.i(3236),c=a.i(36305),d=a.i(91894),e=a.i(34763),f=a.i(9635),g=a.i(54593),h=a.i(64725),i=a.i(30647),j=a.i(29162),k=a.i(92687),l=a.i(51710),m=a.i(58287),n=a.i(94123),o=a.i(96988),p=a.i(22697),q=a.i(92402),r=a.i(30067),s=a.i(52472);let t=(0,a.i(82530).default)("barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);a.i(84332);var u=a.i(53048),v=a.i(59462);let w=f.z.object({materialCode:f.z.string().min(1,"Codul materialului este obligatoriu"),name:f.z.string().min(1,"Denumirea este obligatorie"),description:f.z.string().optional().nullable(),categoryId:f.z.coerce.number().optional().nullable(),unitId:f.z.coerce.number().optional().nullable(),standardPrice:f.z.coerce.number().optional().nullable(),currentStock:f.z.coerce.number().default(0),criticalLevel:f.z.coerce.number().optional().nullable(),expirationDate:f.z.string().optional().nullable(),barcode:f.z.string().optional().nullable(),serialNumber:f.z.string().optional().nullable(),warehouseId:f.z.coerce.number().optional().nullable(),locationInWarehouse:f.z.string().optional().nullable()});function x({material:a,isLoading:f=!1}){let n=(0,c.useRouter)(),x=!!a,z=(0,u.useCreateMaterial)(),A=(0,u.useUpdateMaterial)(),{data:B,isLoading:C}=(0,u.useWarehouses)(),{data:D,isLoading:E}=(0,u.useMaterialUnits)(),{data:F,isLoading:G}=(0,v.useAdminMaterialCategories)(),H=(0,d.useForm)({resolver:(0,e.zodResolver)(w),defaultValues:{materialCode:a?.materialCode||"",name:a?.name||"",description:a?.description||null,categoryId:a?.categoryId||null,unitId:a?.unitId||null,standardPrice:a?.standardPrice||null,currentStock:a?.currentStock||0,criticalLevel:a?.criticalLevel||null,expirationDate:a?.expirationDate?.split("T")[0]||null,barcode:a?.barcode||null,serialNumber:a?.serialNumber||null,warehouseId:a?.warehouseId||null,locationInWarehouse:a?.locationInWarehouse||null}}),I=async b=>{let c={materialCode:b.materialCode,name:b.name,description:b.description||null,categoryId:b.categoryId||null,unitId:b.unitId||null,standardPrice:b.standardPrice||null,currentStock:b.currentStock,criticalLevel:b.criticalLevel||null,expirationDate:b.expirationDate||null,barcode:b.barcode||null,serialNumber:b.serialNumber||null,warehouseId:b.warehouseId||null,locationInWarehouse:b.locationInWarehouse||null};if(x&&a)await A.mutateAsync({id:a.id,data:c}),n.push(`/warehouse/materials/${a.id}`);else{let a=await z.mutateAsync(c);n.push(`/warehouse/materials/${a.id}`)}},J=z.isPending||A.isPending;return f?(0,b.jsx)(y,{}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(g.Button,{variant:"ghost",size:"icon",onClick:()=>n.back(),children:(0,b.jsx)(o.ArrowLeft,{className:"h-4 w-4"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold tracking-tight text-slate-900 dark:text-slate-100",children:x?"Editează material":"Material nou"}),(0,b.jsx)("p",{className:"text-sm text-slate-500",children:x?`Modifică datele materialului ${a?.name}`:"Adaugă un material nou în gestiune"})]})]}),(0,b.jsx)(j.Form,{...H,children:(0,b.jsxs)("form",{onSubmit:H.handleSubmit(I),className:"space-y-6",children:[(0,b.jsxs)(m.Tabs,{defaultValue:"general",className:"space-y-4",children:[(0,b.jsxs)(m.TabsList,{children:[(0,b.jsxs)(m.TabsTrigger,{value:"general",children:[(0,b.jsx)(r.Package,{className:"mr-2 h-4 w-4"}),"Informații generale"]}),(0,b.jsxs)(m.TabsTrigger,{value:"stock",children:[(0,b.jsx)(s.DollarSign,{className:"mr-2 h-4 w-4"}),"Stoc și preț"]}),(0,b.jsxs)(m.TabsTrigger,{value:"identification",children:[(0,b.jsx)(t,{className:"mr-2 h-4 w-4"}),"Identificare"]})]}),(0,b.jsx)(m.TabsContent,{value:"general",className:"space-y-4",children:(0,b.jsxs)(l.Card,{children:[(0,b.jsxs)(l.CardHeader,{children:[(0,b.jsx)(l.CardTitle,{children:"Detalii material"}),(0,b.jsx)(l.CardDescription,{children:"Informații de bază despre material"})]}),(0,b.jsxs)(l.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,b.jsx)(j.FormField,{control:H.control,name:"materialCode",render:({field:a})=>(0,b.jsxs)(j.FormItem,{children:[(0,b.jsx)(j.FormLabel,{children:"Cod material *"}),(0,b.jsx)(j.FormControl,{children:(0,b.jsx)(h.Input,{placeholder:"ex: MAT001",...a})}),(0,b.jsx)(j.FormDescription,{children:"Cod unic de identificare"}),(0,b.jsx)(j.FormMessage,{})]})}),(0,b.jsx)(j.FormField,{control:H.control,name:"name",render:({field:a})=>(0,b.jsxs)(j.FormItem,{children:[(0,b.jsx)(j.FormLabel,{children:"Denumire *"}),(0,b.jsx)(j.FormControl,{children:(0,b.jsx)(h.Input,{placeholder:"ex: Ulei motor 5W40",...a})}),(0,b.jsx)(j.FormMessage,{})]})})]}),(0,b.jsx)(j.FormField,{control:H.control,name:"description",render:({field:a})=>(0,b.jsxs)(j.FormItem,{children:[(0,b.jsx)(j.FormLabel,{children:"Descriere"}),(0,b.jsx)(j.FormControl,{children:(0,b.jsx)(i.Textarea,{placeholder:"Descrierea materialului...",className:"min-h-[80px]",...a,value:a.value??""})}),(0,b.jsx)(j.FormMessage,{})]})}),(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,b.jsx)(j.FormField,{control:H.control,name:"categoryId",render:({field:a})=>(0,b.jsxs)(j.FormItem,{children:[(0,b.jsx)(j.FormLabel,{children:"Categorie"}),(0,b.jsxs)(k.Select,{onValueChange:b=>a.onChange("none"===b?null:parseInt(b)),value:a.value?.toString()||"none",disabled:G,children:[(0,b.jsx)(j.FormControl,{children:(0,b.jsx)(k.SelectTrigger,{children:(0,b.jsx)(k.SelectValue,{placeholder:"Selectează categoria"})})}),(0,b.jsxs)(k.SelectContent,{children:[(0,b.jsx)(k.SelectItem,{value:"none",children:"Nicio categorie"}),F?.map(a=>(0,b.jsx)(k.SelectItem,{value:a.id.toString(),children:a.name},a.id))]})]}),(0,b.jsx)(j.FormMessage,{})]})}),(0,b.jsx)(j.FormField,{control:H.control,name:"unitId",render:({field:a})=>(0,b.jsxs)(j.FormItem,{children:[(0,b.jsx)(j.FormLabel,{children:"Unitate măsură"}),(0,b.jsxs)(k.Select,{onValueChange:b=>a.onChange("none"===b?null:parseInt(b)),value:a.value?.toString()||"none",disabled:E,children:[(0,b.jsx)(j.FormControl,{children:(0,b.jsx)(k.SelectTrigger,{children:(0,b.jsx)(k.SelectValue,{placeholder:"Selectează unitatea"})})}),(0,b.jsxs)(k.SelectContent,{children:[(0,b.jsx)(k.SelectItem,{value:"none",children:"Nicio unitate"}),D?.map(a=>(0,b.jsxs)(k.SelectItem,{value:a.id.toString(),children:[a.name," (",a.abbreviation,")"]},a.id))]})]}),(0,b.jsx)(j.FormMessage,{})]})})]})]})]})}),(0,b.jsx)(m.TabsContent,{value:"stock",className:"space-y-4",children:(0,b.jsxs)(l.Card,{children:[(0,b.jsxs)(l.CardHeader,{children:[(0,b.jsx)(l.CardTitle,{children:"Stoc și preț"}),(0,b.jsx)(l.CardDescription,{children:"Informații despre stoc, preț și depozit"})]}),(0,b.jsxs)(l.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-3",children:[(0,b.jsx)(j.FormField,{control:H.control,name:"currentStock",render:({field:a})=>(0,b.jsxs)(j.FormItem,{children:[(0,b.jsx)(j.FormLabel,{children:"Stoc curent"}),(0,b.jsx)(j.FormControl,{children:(0,b.jsx)(h.Input,{type:"number",step:"0.01",placeholder:"ex: 100",...a,value:a.value??0,onChange:b=>a.onChange(b.target.value?parseFloat(b.target.value):0)})}),(0,b.jsx)(j.FormMessage,{})]})}),(0,b.jsx)(j.FormField,{control:H.control,name:"criticalLevel",render:({field:a})=>(0,b.jsxs)(j.FormItem,{children:[(0,b.jsx)(j.FormLabel,{children:"Nivel critic"}),(0,b.jsx)(j.FormControl,{children:(0,b.jsx)(h.Input,{type:"number",step:"0.01",placeholder:"ex: 10",...a,value:a.value??"",onChange:b=>a.onChange(b.target.value?parseFloat(b.target.value):null)})}),(0,b.jsx)(j.FormDescription,{children:"Alertă la scăderea sub acest nivel"}),(0,b.jsx)(j.FormMessage,{})]})}),(0,b.jsx)(j.FormField,{control:H.control,name:"standardPrice",render:({field:a})=>(0,b.jsxs)(j.FormItem,{children:[(0,b.jsx)(j.FormLabel,{children:"Preț standard (RON)"}),(0,b.jsx)(j.FormControl,{children:(0,b.jsx)(h.Input,{type:"number",step:"0.01",placeholder:"ex: 50.00",...a,value:a.value??"",onChange:b=>a.onChange(b.target.value?parseFloat(b.target.value):null)})}),(0,b.jsx)(j.FormMessage,{})]})})]}),(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,b.jsx)(j.FormField,{control:H.control,name:"warehouseId",render:({field:a})=>(0,b.jsxs)(j.FormItem,{children:[(0,b.jsx)(j.FormLabel,{children:"Depozit"}),(0,b.jsxs)(k.Select,{onValueChange:b=>a.onChange("none"===b?null:parseInt(b)),value:a.value?.toString()||"none",disabled:C,children:[(0,b.jsx)(j.FormControl,{children:(0,b.jsx)(k.SelectTrigger,{children:(0,b.jsx)(k.SelectValue,{placeholder:"Selectează depozitul"})})}),(0,b.jsxs)(k.SelectContent,{children:[(0,b.jsx)(k.SelectItem,{value:"none",children:"Niciun depozit"}),B?.map(a=>(0,b.jsx)(k.SelectItem,{value:a.id.toString(),children:a.name},a.id))]})]}),(0,b.jsx)(j.FormMessage,{})]})}),(0,b.jsx)(j.FormField,{control:H.control,name:"locationInWarehouse",render:({field:a})=>(0,b.jsxs)(j.FormItem,{children:[(0,b.jsx)(j.FormLabel,{children:"Locație în depozit"}),(0,b.jsx)(j.FormControl,{children:(0,b.jsx)(h.Input,{placeholder:"ex: Raft A3, Poziție 12",...a,value:a.value??""})}),(0,b.jsx)(j.FormMessage,{})]})})]})]})]})}),(0,b.jsx)(m.TabsContent,{value:"identification",className:"space-y-4",children:(0,b.jsxs)(l.Card,{children:[(0,b.jsxs)(l.CardHeader,{children:[(0,b.jsx)(l.CardTitle,{children:"Identificare"}),(0,b.jsx)(l.CardDescription,{children:"Coduri de bare, serii și date de expirare"})]}),(0,b.jsxs)(l.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,b.jsx)(j.FormField,{control:H.control,name:"barcode",render:({field:a})=>(0,b.jsxs)(j.FormItem,{children:[(0,b.jsx)(j.FormLabel,{children:"Cod de bare"}),(0,b.jsx)(j.FormControl,{children:(0,b.jsx)(h.Input,{placeholder:"ex: 5941234567890",...a,value:a.value??""})}),(0,b.jsx)(j.FormMessage,{})]})}),(0,b.jsx)(j.FormField,{control:H.control,name:"serialNumber",render:({field:a})=>(0,b.jsxs)(j.FormItem,{children:[(0,b.jsx)(j.FormLabel,{children:"Număr serie"}),(0,b.jsx)(j.FormControl,{children:(0,b.jsx)(h.Input,{placeholder:"ex: SN-2024-001",...a,value:a.value??""})}),(0,b.jsx)(j.FormMessage,{})]})})]}),(0,b.jsx)(j.FormField,{control:H.control,name:"expirationDate",render:({field:a})=>(0,b.jsxs)(j.FormItem,{children:[(0,b.jsx)(j.FormLabel,{children:"Data expirare"}),(0,b.jsx)(j.FormControl,{children:(0,b.jsx)(h.Input,{type:"date",...a,value:a.value??""})}),(0,b.jsx)(j.FormMessage,{})]})})]})]})})]}),(0,b.jsxs)("div",{className:"flex items-center justify-end gap-4",children:[(0,b.jsx)(g.Button,{type:"button",variant:"outline",onClick:()=>n.back(),children:"Anulează"}),(0,b.jsxs)(g.Button,{type:"submit",disabled:J,children:[J&&(0,b.jsx)(q.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),(0,b.jsx)(p.Save,{className:"mr-2 h-4 w-4"}),x?"Salvează modificările":"Creează materialul"]})]})]})})]})}function y(){return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(n.Skeleton,{className:"h-10 w-10"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n.Skeleton,{className:"h-8 w-48"}),(0,b.jsx)(n.Skeleton,{className:"h-4 w-64"})]})]}),(0,b.jsx)(n.Skeleton,{className:"h-10 w-full max-w-md"}),(0,b.jsxs)(l.Card,{children:[(0,b.jsxs)(l.CardHeader,{children:[(0,b.jsx)(n.Skeleton,{className:"h-6 w-40"}),(0,b.jsx)(n.Skeleton,{className:"h-4 w-60"})]}),(0,b.jsx)(l.CardContent,{className:"space-y-4",children:(0,b.jsx)("div",{className:"grid gap-4 sm:grid-cols-2",children:Array.from({length:4}).map((a,c)=>(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n.Skeleton,{className:"h-4 w-24"}),(0,b.jsx)(n.Skeleton,{className:"h-10 w-full"})]},c))})})]})]})}a.s(["MaterialForm",()=>x],75138)}];

//# sourceMappingURL=app_frontend-next_src_components_warehouse_material-form_tsx_4f102e0c._.js.map