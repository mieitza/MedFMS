(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,9170,e=>{"use strict";var t=e.i(89690),s=e.i(35558),a=e.i(21734),r=e.i(49113),i=e.i(47135);let n={all:["warehouse"],materials:()=>[...n.all,"materials"],materialsList:e=>[...n.materials(),"list",e],materialDetail:e=>[...n.materials(),"detail",e],transfers:()=>[...n.all,"transfers"],transfersList:e=>[...n.transfers(),"list",e],transferDetail:e=>[...n.transfers(),"detail",e],stats:()=>[...n.all,"stats"],warehouses:["warehouses"],warehouseDetail:e=>["warehouses","detail",e],materialUnits:["materialUnits"],materialCategories:["materialCategories"]};function u(e={}){return(0,t.useQuery)({queryKey:n.materialsList(e),queryFn:()=>r.warehouseApi.getMaterials(e),placeholderData:e=>e})}function o(e){return(0,t.useQuery)({queryKey:n.materialDetail(e),queryFn:()=>r.warehouseApi.getMaterialById(e),enabled:!!e})}function c(){let e=(0,a.useQueryClient)();return(0,s.useMutation)({mutationFn:e=>r.warehouseApi.createMaterial(e),onSuccess:()=>{e.invalidateQueries({queryKey:n.materials()}),e.invalidateQueries({queryKey:n.stats()}),i.toast.success("Materialul a fost creat cu succes")},onError:e=>{i.toast.error(`Eroare la crearea materialului: ${e.message}`)}})}function l(){let e=(0,a.useQueryClient)();return(0,s.useMutation)({mutationFn:({id:e,data:t})=>r.warehouseApi.updateMaterial(e,t),onSuccess:t=>{e.invalidateQueries({queryKey:n.materials()}),e.invalidateQueries({queryKey:n.materialDetail(t.id)}),e.invalidateQueries({queryKey:n.stats()}),i.toast.success("Materialul a fost actualizat cu succes")},onError:e=>{i.toast.error(`Eroare la actualizarea materialului: ${e.message}`)}})}function p(){let e=(0,a.useQueryClient)();return(0,s.useMutation)({mutationFn:e=>r.warehouseApi.deleteMaterial(e),onSuccess:()=>{e.invalidateQueries({queryKey:n.materials()}),e.invalidateQueries({queryKey:n.stats()}),i.toast.success("Materialul a fost șters cu succes")},onError:e=>{i.toast.error(`Eroare la ștergerea materialului: ${e.message}`)}})}function h(e={}){return(0,t.useQuery)({queryKey:n.transfersList(e),queryFn:()=>r.warehouseApi.getTransferRequests(e),placeholderData:e=>e})}function d(e){return(0,t.useQuery)({queryKey:n.transferDetail(e),queryFn:()=>r.warehouseApi.getTransferRequestById(e),enabled:!!e})}function y(){let e=(0,a.useQueryClient)();return(0,s.useMutation)({mutationFn:e=>r.warehouseApi.createTransferRequest(e),onSuccess:()=>{e.invalidateQueries({queryKey:n.transfers()}),e.invalidateQueries({queryKey:n.stats()}),i.toast.success("Cererea de transfer a fost creată cu succes")},onError:e=>{i.toast.error(`Eroare la crearea cererii: ${e.message}`)}})}function m(){let e=(0,a.useQueryClient)();return(0,s.useMutation)({mutationFn:({id:e,status:t})=>r.warehouseApi.updateTransferStatus(e,t),onSuccess:t=>{e.invalidateQueries({queryKey:n.transfers()}),e.invalidateQueries({queryKey:n.transferDetail(t.id)}),e.invalidateQueries({queryKey:n.stats()}),e.invalidateQueries({queryKey:n.materials()}),i.toast.success("Statusul cererii a fost actualizat")},onError:e=>{i.toast.error(`Eroare la actualizarea statusului: ${e.message}`)}})}function f(){return(0,t.useQuery)({queryKey:[...n.all,"lowStock"],queryFn:()=>r.warehouseApi.getLowStockMaterials()})}function g(){return(0,t.useQuery)({queryKey:n.warehouses,queryFn:()=>r.warehouseApi.getWarehouses(),staleTime:6e5})}function v(e){return(0,t.useQuery)({queryKey:n.warehouseDetail(e),queryFn:()=>r.warehouseApi.getWarehouseById(e),enabled:!!e})}function b(){let e=(0,a.useQueryClient)();return(0,s.useMutation)({mutationFn:({id:e,data:t})=>r.warehouseApi.updateWarehouse(e,t),onSuccess:t=>{e.invalidateQueries({queryKey:n.warehouses}),e.invalidateQueries({queryKey:n.warehouseDetail(t.id)}),i.toast.success("Depozitul a fost actualizat cu succes")},onError:e=>{i.toast.error(`Eroare la actualizarea depozitului: ${e.message}`)}})}function R(){return(0,t.useQuery)({queryKey:n.materialUnits,queryFn:()=>r.warehouseApi.getMaterialUnits(),staleTime:6e5})}e.s(["useCreateMaterial",()=>c,"useCreateTransferRequest",()=>y,"useDeleteMaterial",()=>p,"useLowStockMaterials",()=>f,"useMaterial",()=>o,"useMaterialUnits",()=>R,"useMaterials",()=>u,"useTransferRequest",()=>d,"useTransferRequests",()=>h,"useUpdateMaterial",()=>l,"useUpdateTransferStatus",()=>m,"useUpdateWarehouse",()=>b,"useWarehouse",()=>v,"useWarehouses",()=>g])},35558,e=>{"use strict";var t=e.i(96041),s=e.i(30291),a=e.i(8132),r=e.i(4200),i=e.i(98939),n=class extends r.Subscribable{#e;#t=void 0;#s;#a;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,i.shallowEqualObjects)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,i.hashKey)(t.mutationKey)!==(0,i.hashKey)(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#i(e)}getCurrentResult(){return this.#t}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#r(),this.#i()}mutate(e,t){return this.#a=t,this.#s?.removeObserver(this),this.#s=this.#e.getMutationCache().build(this.#e,this.options),this.#s.addObserver(this),this.#s.execute(e)}#r(){let e=this.#s?.state??(0,s.getDefaultState)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#i(e){a.notifyManager.batch(()=>{if(this.#a&&this.hasListeners()){let t=this.#t.variables,s=this.#t.context,a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#a.onSuccess?.(e.data,t,s,a),this.#a.onSettled?.(e.data,null,t,s,a)):e?.type==="error"&&(this.#a.onError?.(e.error,t,s,a),this.#a.onSettled?.(void 0,e.error,t,s,a))}this.listeners.forEach(e=>{e(this.#t)})})}},u=e.i(21734);function o(e,s){let r=(0,u.useQueryClient)(s),[o]=t.useState(()=>new n(r,e));t.useEffect(()=>{o.setOptions(e)},[o,e]);let c=t.useSyncExternalStore(t.useCallback(e=>o.subscribe(a.notifyManager.batchCalls(e)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),l=t.useCallback((e,t)=>{o.mutate(e,t).catch(i.noop)},[o]);if(c.error&&(0,i.shouldThrowError)(o.options.throwOnError,[c.error]))throw c.error;return{...c,mutate:l,mutateAsync:c.mutate}}e.s(["useMutation",()=>o],35558)},7715,e=>{"use strict";var t=e.i(63461),s=e.i(84505);function a({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...a})}function r({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...a})}function i({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",e),...a})}function n({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",e),...a})}function u({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",e),...a})}e.s(["Card",()=>a,"CardContent",()=>u,"CardDescription",()=>n,"CardHeader",()=>r,"CardTitle",()=>i])},89690,e=>{"use strict";let t;var s=e.i(93343),a=e.i(8132),r=e.i(59720),i=e.i(4200),n=e.i(80562),u=e.i(98939),o=e.i(48934),c=class extends i.Subscribable{constructor(e,t){super(),this.options=t,this.#e=e,this.#n=null,this.#u=(0,n.pendingThenable)(),this.bindMethods(),this.setOptions(t)}#e;#o=void 0;#c=void 0;#t=void 0;#l;#p;#u;#n;#h;#d;#y;#m;#f;#g;#v=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#o.addObserver(this),l(this.#o,this.options)?this.#b():this.updateResult(),this.#R())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return p(this.#o,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return p(this.#o,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#T(),this.#S(),this.#o.removeObserver(this)}setOptions(e){let t=this.options,s=this.#o;if(this.options=this.#e.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,u.resolveEnabled)(this.options.enabled,this.#o))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#$(),this.#o.setOptions(this.options),t._defaulted&&!(0,u.shallowEqualObjects)(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#o,observer:this});let a=this.hasListeners();a&&h(this.#o,s,this.options,t)&&this.#b(),this.updateResult(),a&&(this.#o!==s||(0,u.resolveEnabled)(this.options.enabled,this.#o)!==(0,u.resolveEnabled)(t.enabled,this.#o)||(0,u.resolveStaleTime)(this.options.staleTime,this.#o)!==(0,u.resolveStaleTime)(t.staleTime,this.#o))&&this.#w();let r=this.#M();a&&(this.#o!==s||(0,u.resolveEnabled)(this.options.enabled,this.#o)!==(0,u.resolveEnabled)(t.enabled,this.#o)||r!==this.#g)&&this.#Q(r)}getOptimisticResult(e){var t,s;let a=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(a,e);return t=this,s=r,(0,u.shallowEqualObjects)(t.getCurrentResult(),s)||(this.#t=r,this.#p=this.options,this.#l=this.#o.state),r}getCurrentResult(){return this.#t}trackResult(e,t){return new Proxy(e,{get:(e,s)=>(this.trackProp(s),t?.(s),"promise"===s&&(this.trackProp("data"),this.options.experimental_prefetchInRender||"pending"!==this.#u.status||this.#u.reject(Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(e,s))})}trackProp(e){this.#v.add(e)}getCurrentQuery(){return this.#o}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){let t=this.#e.defaultQueryOptions(e),s=this.#e.getQueryCache().build(this.#e,t);return s.fetch().then(()=>this.createResult(s,t))}fetch(e){return this.#b({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#t))}#b(e){this.#$();let t=this.#o.fetch(this.options,e);return e?.throwOnError||(t=t.catch(u.noop)),t}#w(){this.#T();let e=(0,u.resolveStaleTime)(this.options.staleTime,this.#o);if(u.isServer||this.#t.isStale||!(0,u.isValidTimeout)(e))return;let t=(0,u.timeUntilStale)(this.#t.dataUpdatedAt,e);this.#m=o.timeoutManager.setTimeout(()=>{this.#t.isStale||this.updateResult()},t+1)}#M(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#o):this.options.refetchInterval)??!1}#Q(e){this.#S(),this.#g=e,!u.isServer&&!1!==(0,u.resolveEnabled)(this.options.enabled,this.#o)&&(0,u.isValidTimeout)(this.#g)&&0!==this.#g&&(this.#f=o.timeoutManager.setInterval(()=>{(this.options.refetchIntervalInBackground||s.focusManager.isFocused())&&this.#b()},this.#g))}#R(){this.#w(),this.#Q(this.#M())}#T(){this.#m&&(o.timeoutManager.clearTimeout(this.#m),this.#m=void 0)}#S(){this.#f&&(o.timeoutManager.clearInterval(this.#f),this.#f=void 0)}createResult(e,t){let s,a=this.#o,i=this.options,o=this.#t,c=this.#l,p=this.#p,y=e!==a?e.state:this.#c,{state:m}=e,f={...m},g=!1;if(t._optimisticResults){let s=this.hasListeners(),n=!s&&l(e,t),u=s&&h(e,a,t,i);(n||u)&&(f={...f,...(0,r.fetchState)(m.data,e.options)}),"isRestoring"===t._optimisticResults&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:b,status:R}=f;s=f.data;let T=!1;if(void 0!==t.placeholderData&&void 0===s&&"pending"===R){let e;o?.isPlaceholderData&&t.placeholderData===p?.placeholderData?(e=o.data,T=!0):e="function"==typeof t.placeholderData?t.placeholderData(this.#y?.state.data,this.#y):t.placeholderData,void 0!==e&&(R="success",s=(0,u.replaceData)(o?.data,e,t),g=!0)}if(t.select&&void 0!==s&&!T)if(o&&s===c?.data&&t.select===this.#h)s=this.#d;else try{this.#h=t.select,s=t.select(s),s=(0,u.replaceData)(o?.data,s,t),this.#d=s,this.#n=null}catch(e){this.#n=e}this.#n&&(v=this.#n,s=this.#d,b=Date.now(),R="error");let S="fetching"===f.fetchStatus,$="pending"===R,w="error"===R,M=$&&S,Q=void 0!==s,C={status:R,fetchStatus:f.fetchStatus,isPending:$,isSuccess:"success"===R,isError:w,isInitialLoading:M,isLoading:M,data:s,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:b,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>y.dataUpdateCount||f.errorUpdateCount>y.errorUpdateCount,isFetching:S,isRefetching:S&&!$,isLoadingError:w&&!Q,isPaused:"paused"===f.fetchStatus,isPlaceholderData:g,isRefetchError:w&&Q,isStale:d(e,t),refetch:this.refetch,promise:this.#u,isEnabled:!1!==(0,u.resolveEnabled)(t.enabled,e)};if(this.options.experimental_prefetchInRender){let t=e=>{"error"===C.status?e.reject(C.error):void 0!==C.data&&e.resolve(C.data)},s=()=>{t(this.#u=C.promise=(0,n.pendingThenable)())},r=this.#u;switch(r.status){case"pending":e.queryHash===a.queryHash&&t(r);break;case"fulfilled":("error"===C.status||C.data!==r.value)&&s();break;case"rejected":("error"!==C.status||C.error!==r.reason)&&s()}}return C}updateResult(){let e=this.#t,t=this.createResult(this.#o,this.options);if(this.#l=this.#o.state,this.#p=this.options,void 0!==this.#l.data&&(this.#y=this.#o),(0,u.shallowEqualObjects)(t,e))return;this.#t=t;let s=()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,s="function"==typeof t?t():t;if("all"===s||!s&&!this.#v.size)return!0;let a=new Set(s??this.#v);return this.options.throwOnError&&a.add("error"),Object.keys(this.#t).some(t=>this.#t[t]!==e[t]&&a.has(t))};this.#i({listeners:s()})}#$(){let e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#o)return;let t=this.#o;this.#o=e,this.#c=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#R()}#i(e){a.notifyManager.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#t)}),this.#e.getQueryCache().notify({query:this.#o,type:"observerResultsUpdated"})})}};function l(e,t){return!1!==(0,u.resolveEnabled)(t.enabled,e)&&void 0===e.state.data&&("error"!==e.state.status||!1!==t.retryOnMount)||void 0!==e.state.data&&p(e,t,t.refetchOnMount)}function p(e,t,s){if(!1!==(0,u.resolveEnabled)(t.enabled,e)&&"static"!==(0,u.resolveStaleTime)(t.staleTime,e)){let a="function"==typeof s?s(e):s;return"always"===a||!1!==a&&d(e,t)}return!1}function h(e,t,s,a){return(e!==t||!1===(0,u.resolveEnabled)(a.enabled,e))&&(!s.suspense||"error"!==e.state.status)&&d(e,s)}function d(e,t){return!1!==(0,u.resolveEnabled)(t.enabled,e)&&e.isStaleByTime((0,u.resolveStaleTime)(t.staleTime,e))}e.i(18837);var y=e.i(96041),m=e.i(21734);e.i(63461);var f=y.createContext((t=!1,{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t})),g=y.createContext(!1);g.Provider;var v=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function b(e,t){return function(e,t,s){let r=y.useContext(g),i=y.useContext(f),n=(0,m.useQueryClient)(s),o=n.defaultQueryOptions(e);if(n.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=r?"isRestoring":"optimistic",o.suspense){let e=e=>"static"===e?e:Math.max(e??1e3,1e3),t=o.staleTime;o.staleTime="function"==typeof t?(...s)=>e(t(...s)):e(t),"number"==typeof o.gcTime&&(o.gcTime=Math.max(o.gcTime,1e3))}(o.suspense||o.throwOnError||o.experimental_prefetchInRender)&&!i.isReset()&&(o.retryOnMount=!1),y.useEffect(()=>{i.clearReset()},[i]);let c=!n.getQueryCache().get(o.queryHash),[l]=y.useState(()=>new t(n,o)),p=l.getOptimisticResult(o),h=!r&&!1!==e.subscribed;if(y.useSyncExternalStore(y.useCallback(e=>{let t=h?l.subscribe(a.notifyManager.batchCalls(e)):u.noop;return l.updateResult(),t},[l,h]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),y.useEffect(()=>{l.setOptions(o)},[o,l]),o?.suspense&&p.isPending)throw v(o,l,i);if((({result:e,errorResetBoundary:t,throwOnError:s,query:a,suspense:r})=>e.isError&&!t.isReset()&&!e.isFetching&&a&&(r&&void 0===e.data||(0,u.shouldThrowError)(s,[e.error,a])))({result:p,errorResetBoundary:i,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw p.error;if(n.getDefaultOptions().queries?._experimental_afterQuery?.(o,p),o.experimental_prefetchInRender&&!u.isServer&&p.isLoading&&p.isFetching&&!r){let e=c?v(o,l,i):n.getQueryCache().get(o.queryHash)?.promise;e?.catch(u.noop).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?p:l.trackResult(p)}(e,c,t)}e.s(["useQuery",()=>b],89690)},49113,e=>{"use strict";var t=e.i(50404);e.s(["warehouseApi",0,{getMaterials:async(e={})=>t.api.get("/materials",e),getMaterialById:async e=>t.api.get(`/materials/${e}`),createMaterial:async e=>t.api.post("/materials",e),updateMaterial:async(e,s)=>t.api.put(`/materials/${e}`,s),deleteMaterial:async e=>t.api.delete(`/materials/${e}`),importMaterials:async e=>{let s=new FormData;return s.append("file",e),t.api.upload("/materials/import",s)},getTransferRequests:async(e={})=>t.api.get("/materials/transfer-requests",e),getTransferRequestById:async e=>t.api.get(`/materials/transfer-requests/${e}`),createTransferRequest:async e=>t.api.post("/materials/transfer-requests",e),updateTransferStatus:async(e,s)=>t.api.patch(`/materials/transfer-requests/${e}/status`,{status:s}),approveTransfer:async(e,s)=>t.api.post(`/materials/transfer-requests/${e}/approve`,{notes:s}),rejectTransfer:async(e,s)=>t.api.post(`/materials/transfer-requests/${e}/reject`,{notes:s}),completeTransfer:async e=>t.api.post(`/materials/transfer-requests/${e}/complete`,{}),getPendingApprovalTransfers:async(e={})=>t.api.get("/materials/transfer-requests/pending-approval",e),getWarehouses:async()=>t.api.get("/materials/warehouses"),getWarehouseById:async e=>t.api.get(`/materials/warehouses/${e}`),createWarehouse:async e=>t.api.post("/materials/warehouses",e),updateWarehouse:async(e,s)=>t.api.put(`/materials/warehouses/${e}`,s),getMaterialUnits:async()=>t.api.get("/materials/units"),createMaterialUnit:async e=>t.api.post("/materials/units",e),updateMaterialUnit:async(e,s)=>t.api.put(`/materials/units/${e}`,s),getLowStockMaterials:async()=>t.api.get("/materials/low-stock"),getStockReport:async e=>t.api.get("/materials/reports/stock",e),getPricingReport:async e=>t.api.get("/materials/reports/pricing",e),getTransfersReport:async e=>t.api.get("/materials/reports/transfers",e),getExpirationReport:async e=>t.api.get("/materials/reports/expiration",e),getUsageReport:async e=>t.api.get("/materials/reports/usage",e)}])},29021,e=>{"use strict";var t=e.i(50404);e.s(["dashboardApi",0,{getStats:async()=>t.api.get("/dashboard/stats"),getRecentActivity:async(e=10)=>t.api.get("/dashboard/activity",{limit:e}),getAlerts:async()=>t.api.get("/dashboard/alerts"),getFuelSummary:async(e="month")=>t.api.get("/dashboard/fuel-summary",{period:e}),getMaintenanceSummary:async()=>t.api.get("/dashboard/maintenance-summary"),getVehicleStatusDistribution:async()=>t.api.get("/dashboard/vehicle-status-distribution")}])},88026,e=>{"use strict";var t=e.i(50404);e.s(["chatApi",0,{getHealth:async()=>t.api.get("/chat/health"),getConfig:async()=>t.api.get("/chat/config"),sendMessage:async e=>t.api.post("/chat",{messages:e,stream:!1}),getTools:async()=>t.api.get("/chat/tools"),testTool:async(e,s)=>t.api.post(`/chat/tools/${e}/test`,s),streamMessage:async(e,t,s)=>{let a=localStorage.getItem("auth_token");try{let s=await fetch("http://localhost:3000/api/chat",{method:"POST",headers:{"Content-Type":"application/json",...a?{Authorization:`Bearer ${a}`}:{}},body:JSON.stringify({messages:e,stream:!0})});if(!s.ok){let e=await s.json().catch(()=>({error:{message:"Unknown error"}}));throw Error(e.error?.message||`HTTP error ${s.status}`)}let r=s.body?.getReader();if(!r)throw Error("No response body");let i=new TextDecoder,n="";for(;;){let{done:e,value:s}=await r.read();if(e)break;let a=(n+=i.decode(s,{stream:!0})).split("\n");for(let e of(n=a.pop()||"",a)){if(!e.startsWith("data: "))continue;let s=e.slice(6);try{let e=JSON.parse(s);t(e)}catch{}}}}catch(e){s(e instanceof Error?e:Error("Unknown error"))}}}])},56851,1975,88621,20234,26909,85702,e=>{"use strict";var t=e.i(50404);e.i(32875),e.s(["vehiclesApi",0,{getAll:async(e={})=>t.api.get("/vehicles",e),getById:async e=>t.api.get(`/vehicles/${e}`),create:async e=>t.api.post("/vehicles",e),update:async(e,s)=>t.api.put(`/vehicles/${e}`,s),delete:async e=>t.api.delete(`/vehicles/${e}`),uploadAnmdmDocument:async(e,s)=>{let a=new FormData;return a.append("document",s),t.api.upload(`/vehicles/${e}/anmdm-document`,a)},uploadPhotos:async(e,s)=>{let a=new FormData;return s.forEach(e=>a.append("photos",e)),t.api.upload(`/vehicles/${e}/photos`,a)},deletePhoto:async(e,s)=>t.api.delete(`/vehicles/${e}/photos/${s}`),getDocuments:async e=>t.api.get(`/vehicles/${e}/documents`),uploadDocument:async(e,s,a)=>{let r=new FormData;return r.append("document",s),a&&r.append("documentType",a),t.api.upload(`/vehicles/${e}/documents`,r)},getBrands:async()=>t.api.get("/system/brands"),getModels:async e=>t.api.get("/system/models",e?{brandId:e}:{}),getVehicleTypes:async()=>t.api.get("/system/vehicle-types"),getVehicleStatuses:async()=>t.api.get("/system/vehicle-statuses")}],1975),e.s(["driversApi",0,{getAll:async(e={})=>t.api.get("/drivers",e),getById:async e=>t.api.get(`/drivers/${e}`),create:async e=>t.api.post("/drivers",e),update:async(e,s)=>t.api.put(`/drivers/${e}`,s),delete:async e=>t.api.delete(`/drivers/${e}`),getDocuments:async e=>t.api.get(`/drivers/${e}/documents`),uploadDocument:async(e,s,a)=>{let r=new FormData;return r.append("document",s),a&&r.append("documentType",a),t.api.upload(`/drivers/${e}/documents`,r)},getExpiringLicenses:async(e=30)=>t.api.get("/drivers/expiring-licenses",{daysAhead:e})}],88621),e.i(29021),e.i(18837),e.s(["fuelApi",0,{getAll:async(e={})=>t.api.get("/fuel/transactions",e),getById:async e=>t.api.get(`/fuel/transactions/${e}`),create:async e=>t.api.post("/fuel/transactions",e),update:async(e,s)=>t.api.put(`/fuel/transactions/${e}`,s),delete:async e=>t.api.delete(`/fuel/transactions/${e}`),getStats:async e=>t.api.get("/fuel/transactions/stats",e),importCsv:async e=>{let s=new FormData;return s.append("file",e),t.api.upload("/fuel/transactions/import",s)},exportCsv:async e=>{let t=new URLSearchParams;return e&&Object.entries(e).forEach(([e,s])=>{void 0!==s&&t.append(e,String(s))}),(await fetch(`http://localhost:3000/api/fuel/transactions/export?${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).blob()},getFuelTypes:async()=>t.api.get("/fuel/types"),getFuelStations:async()=>t.api.get("/fuel/stations")}],20234),e.s(["maintenanceApi",0,{getAll:async(e={})=>t.api.get("/maintenance/work-orders",e),getById:async e=>t.api.get(`/maintenance/work-orders/${e}`),create:async e=>t.api.post("/maintenance/work-orders",e),update:async(e,s)=>t.api.put(`/maintenance/work-orders/${e}`,s),delete:async e=>t.api.delete(`/maintenance/work-orders/${e}`),getStats:async e=>t.api.get("/maintenance/work-orders/stats",e),updateStatus:async(e,s)=>t.api.put(`/maintenance/work-orders/${e}/status`,{status:s}),getMaintenanceTypes:async()=>t.api.get("/maintenance/types"),getPendingApproval:async(e={})=>t.api.get("/maintenance/work-orders/pending-approval",e),approve:async(e,s)=>t.api.put(`/maintenance/work-orders/${e}/status`,{status:"approved",notes:s}),reject:async(e,s)=>t.api.put(`/maintenance/work-orders/${e}/status`,{status:"cancelled",notes:s})}],26909),e.i(49113),e.s(["adminApi",0,{getUsers:async()=>(await t.api.get("/users")).data,getUser:async e=>t.api.get(`/users/${e}`),createUser:async e=>t.api.post("/users",e),updateUser:async(e,s)=>t.api.patch(`/users/${e}`,s),deleteUser:async e=>t.api.delete(`/users/${e}`),activateUser:async e=>t.api.post(`/users/${e}/activate`,{}),deactivateUser:async e=>t.api.post(`/users/${e}/deactivate`,{}),resetUserPin:async(e,s)=>t.api.post(`/users/${e}/reset-pin`,{pin:s}),getReferenceData:async e=>t.api.get(`/system/${e}`),getReferenceDataItem:async(e,s)=>t.api.get(`/system/${e}/${s}`),createReferenceData:async(e,s)=>t.api.post(`/system/${e}`,s),updateReferenceData:async(e,s,a)=>t.api.patch(`/system/${e}/${s}`,a),deleteReferenceData:async(e,s)=>t.api.delete(`/system/${e}/${s}`),getBrands:async()=>t.api.get("/system/brands"),createBrand:async e=>t.api.post("/system/brands",e),updateBrand:async(e,s)=>t.api.patch(`/system/brands/${e}`,s),deleteBrand:async e=>t.api.delete(`/system/brands/${e}`),getModels:async e=>t.api.get("/system/models",e?{brandId:e}:{}),createModel:async e=>t.api.post("/system/models",e),updateModel:async(e,s)=>t.api.patch(`/system/models/${e}`,s),deleteModel:async e=>t.api.delete(`/system/models/${e}`),getVehicleTypes:async()=>t.api.get("/system/vehicle-types"),createVehicleType:async e=>t.api.post("/system/vehicle-types",e),updateVehicleType:async(e,s)=>t.api.patch(`/system/vehicle-types/${e}`,s),deleteVehicleType:async e=>t.api.delete(`/system/vehicle-types/${e}`),getVehicleStatuses:async()=>t.api.get("/system/vehicle-statuses"),createVehicleStatus:async e=>t.api.post("/system/vehicle-statuses",e),updateVehicleStatus:async(e,s)=>t.api.patch(`/system/vehicle-statuses/${e}`,s),deleteVehicleStatus:async e=>t.api.delete(`/system/vehicle-statuses/${e}`),getFuelTypes:async()=>t.api.get("/system/fuel-types"),createFuelType:async e=>t.api.post("/system/fuel-types",e),updateFuelType:async(e,s)=>t.api.patch(`/system/fuel-types/${e}`,s),deleteFuelType:async e=>t.api.delete(`/system/fuel-types/${e}`),getFuelStations:async()=>t.api.get("/system/fuel-stations"),createFuelStation:async e=>t.api.post("/system/fuel-stations",e),updateFuelStation:async(e,s)=>t.api.patch(`/system/fuel-stations/${e}`,s),deleteFuelStation:async e=>t.api.delete(`/system/fuel-stations/${e}`),getMaintenanceTypes:async()=>t.api.get("/system/maintenance-types"),createMaintenanceType:async e=>t.api.post("/system/maintenance-types",e),updateMaintenanceType:async(e,s)=>t.api.patch(`/system/maintenance-types/${e}`,s),deleteMaintenanceType:async e=>t.api.delete(`/system/maintenance-types/${e}`),getDepartments:async()=>t.api.get("/system/departments"),createDepartment:async e=>t.api.post("/system/departments",e),updateDepartment:async(e,s)=>t.api.patch(`/system/departments/${e}`,s),deleteDepartment:async e=>t.api.delete(`/system/departments/${e}`),getLocations:async()=>t.api.get("/system/locations"),createLocation:async e=>t.api.post("/system/locations",e),updateLocation:async(e,s)=>t.api.patch(`/system/locations/${e}`,s),deleteLocation:async e=>t.api.delete(`/system/locations/${e}`),getCities:async()=>t.api.get("/system/cities"),createCity:async e=>t.api.post("/system/cities",e),updateCity:async(e,s)=>t.api.patch(`/system/cities/${e}`,s),deleteCity:async e=>t.api.delete(`/system/cities/${e}`),getSuppliers:async()=>t.api.get("/system/suppliers"),createSupplier:async e=>t.api.post("/system/suppliers",e),updateSupplier:async(e,s)=>t.api.patch(`/system/suppliers/${e}`,s),deleteSupplier:async e=>t.api.delete(`/system/suppliers/${e}`),getMaterialUnits:async()=>t.api.get("/system/material-units"),createMaterialUnit:async e=>t.api.post("/system/material-units",e),updateMaterialUnit:async(e,s)=>t.api.patch(`/system/material-units/${e}`,s),deleteMaterialUnit:async e=>t.api.delete(`/system/material-units/${e}`),getMaterialCategories:async()=>t.api.get("/system/material-categories"),createMaterialCategory:async e=>t.api.post("/system/material-categories",e),updateMaterialCategory:async(e,s)=>t.api.patch(`/system/material-categories/${e}`,s),deleteMaterialCategory:async e=>t.api.delete(`/system/material-categories/${e}`),getPositions:async()=>t.api.get("/system/positions"),createPosition:async e=>t.api.post("/system/positions",e),updatePosition:async(e,s)=>t.api.patch(`/system/positions/${e}`,s),deletePosition:async e=>t.api.delete(`/system/positions/${e}`),getLicenseTypes:async()=>t.api.get("/system/license-types"),createLicenseType:async e=>t.api.post("/system/license-types",e),updateLicenseType:async(e,s)=>t.api.patch(`/system/license-types/${e}`,s),deleteLicenseType:async e=>t.api.delete(`/system/license-types/${e}`),getInspectionTypes:async()=>t.api.get("/system/inspection-types"),createInspectionType:async e=>t.api.post("/system/inspection-types",e),updateInspectionType:async(e,s)=>t.api.patch(`/system/inspection-types/${e}`,s),deleteInspectionType:async e=>t.api.delete(`/system/inspection-types/${e}`)}],85702),e.i(88026),e.s([],56851)}]);