(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,71513,e=>{"use strict";var a=e.i(63461),t=e.i(84505);function l({className:e,...l}){return(0,a.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,a.jsx)("table",{"data-slot":"table",className:(0,t.cn)("w-full caption-bottom text-sm",e),...l})})}function s({className:e,...l}){return(0,a.jsx)("thead",{"data-slot":"table-header",className:(0,t.cn)("[&_tr]:border-b",e),...l})}function r({className:e,...l}){return(0,a.jsx)("tbody",{"data-slot":"table-body",className:(0,t.cn)("[&_tr:last-child]:border-0",e),...l})}function i({className:e,...l}){return(0,a.jsx)("tr",{"data-slot":"table-row",className:(0,t.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...l})}function n({className:e,...l}){return(0,a.jsx)("th",{"data-slot":"table-head",className:(0,t.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...l})}function c({className:e,...l}){return(0,a.jsx)("td",{"data-slot":"table-cell",className:(0,t.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...l})}e.s(["Table",()=>l,"TableBody",()=>r,"TableCell",()=>c,"TableHead",()=>n,"TableHeader",()=>s,"TableRow",()=>i])},53502,e=>{"use strict";let a=(0,e.i(83775).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);e.s(["Download",()=>a],53502)},954,e=>{"use strict";let a=(0,e.i(83775).default)("car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);e.s(["Car",()=>a],954)},46323,e=>{"use strict";let a;var t=e.i(63461),l=e.i(96041),s=e.i(80524),r=e.i(25546),i=e.i(38380),n=e.i(77361),c=Symbol("radix.slottable"),o="AlertDialog",[d,u]=(0,s.createContextScope)(o,[i.createDialogScope]),h=(0,i.createDialogScope)(),m=e=>{let{__scopeAlertDialog:a,...l}=e,s=h(a);return(0,t.jsx)(i.Root,{...s,...l,modal:!0})};m.displayName=o;var x=l.forwardRef((e,a)=>{let{__scopeAlertDialog:l,...s}=e,r=h(l);return(0,t.jsx)(i.Trigger,{...r,...s,ref:a})});x.displayName="AlertDialogTrigger";var g=e=>{let{__scopeAlertDialog:a,...l}=e,s=h(a);return(0,t.jsx)(i.Portal,{...s,...l})};g.displayName="AlertDialogPortal";var p=l.forwardRef((e,a)=>{let{__scopeAlertDialog:l,...s}=e,r=h(l);return(0,t.jsx)(i.Overlay,{...r,...s,ref:a})});p.displayName="AlertDialogOverlay";var j="AlertDialogContent",[v,f]=d(j),y=((a=({children:e})=>(0,t.jsx)(t.Fragment,{children:e})).displayName="AlertDialogContent.Slottable",a.__radixId=c,a),b=l.forwardRef((e,a)=>{let{__scopeAlertDialog:s,children:c,...o}=e,d=h(s),u=l.useRef(null),m=(0,r.useComposedRefs)(a,u),x=l.useRef(null);return(0,t.jsx)(i.WarningProvider,{contentName:j,titleName:N,docsSlug:"alert-dialog",children:(0,t.jsx)(v,{scope:s,cancelRef:x,children:(0,t.jsxs)(i.Content,{role:"alertdialog",...d,...o,ref:m,onOpenAutoFocus:(0,n.composeEventHandlers)(o.onOpenAutoFocus,e=>{e.preventDefault(),x.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,t.jsx)(y,{children:c}),(0,t.jsx)(T,{contentRef:u})]})})})});b.displayName=j;var N="AlertDialogTitle",w=l.forwardRef((e,a)=>{let{__scopeAlertDialog:l,...s}=e,r=h(l);return(0,t.jsx)(i.Title,{...r,...s,ref:a})});w.displayName=N;var S="AlertDialogDescription",C=l.forwardRef((e,a)=>{let{__scopeAlertDialog:l,...s}=e,r=h(l);return(0,t.jsx)(i.Description,{...r,...s,ref:a})});C.displayName=S;var D=l.forwardRef((e,a)=>{let{__scopeAlertDialog:l,...s}=e,r=h(l);return(0,t.jsx)(i.Close,{...r,...s,ref:a})});D.displayName="AlertDialogAction";var A="AlertDialogCancel",k=l.forwardRef((e,a)=>{let{__scopeAlertDialog:l,...s}=e,{cancelRef:n}=f(A,l),c=h(l),o=(0,r.useComposedRefs)(a,n);return(0,t.jsx)(i.Close,{...c,...s,ref:o})});k.displayName=A;var T=({contentRef:e})=>{let a=`\`${j}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${j}\` by passing a \`${S}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${j}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return l.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(a)},[a,e]),null},I=e.i(84505),M=e.i(4770);function V({...e}){return(0,t.jsx)(m,{"data-slot":"alert-dialog",...e})}function z({...e}){return(0,t.jsx)(x,{"data-slot":"alert-dialog-trigger",...e})}function R({...e}){return(0,t.jsx)(g,{"data-slot":"alert-dialog-portal",...e})}function P({className:e,...a}){return(0,t.jsx)(p,{"data-slot":"alert-dialog-overlay",className:(0,I.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...a})}function B({className:e,...a}){return(0,t.jsxs)(R,{children:[(0,t.jsx)(P,{}),(0,t.jsx)(b,{"data-slot":"alert-dialog-content",className:(0,I.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...a})]})}function K({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,I.cn)("flex flex-col gap-2 text-center sm:text-left",e),...a})}function $({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,I.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...a})}function F({className:e,...a}){return(0,t.jsx)(w,{"data-slot":"alert-dialog-title",className:(0,I.cn)("text-lg font-semibold",e),...a})}function H({className:e,...a}){return(0,t.jsx)(C,{"data-slot":"alert-dialog-description",className:(0,I.cn)("text-muted-foreground text-sm",e),...a})}function O({className:e,...a}){return(0,t.jsx)(D,{className:(0,I.cn)((0,M.buttonVariants)(),e),...a})}function E({className:e,...a}){return(0,t.jsx)(k,{className:(0,I.cn)((0,M.buttonVariants)({variant:"outline"}),e),...a})}e.s(["AlertDialog",()=>V,"AlertDialogAction",()=>O,"AlertDialogCancel",()=>E,"AlertDialogContent",()=>B,"AlertDialogDescription",()=>H,"AlertDialogFooter",()=>$,"AlertDialogHeader",()=>K,"AlertDialogTitle",()=>F,"AlertDialogTrigger",()=>z],46323)},9533,e=>{"use strict";let a=(0,e.i(83775).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>a],9533)},57617,e=>{"use strict";let a=(0,e.i(83775).default)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);e.s(["Pencil",()=>a],57617)},94899,e=>{"use strict";let a=(0,e.i(83775).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>a],94899)},55608,e=>{"use strict";var a=e.i(99426);e.s(["X",()=>a.default])},57312,e=>{"use strict";let a=(0,e.i(83775).default)("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);e.s(["ArrowUpDown",()=>a],57312)},64147,e=>{"use strict";var a=e.i(63461),t=e.i(96041),l=e.i(18439),s=e.i(27413),r=e.i(4770),i=e.i(21592),n=e.i(87334),c=e.i(46323),o=e.i(74533),d=e.i(7715),u=e.i(47131),h=e.i(50519),m=e.i(94899),x=e.i(57617),g=e.i(9533),p=e.i(954),j=e.i(43013),v=e.i(55608),f=e.i(57312),y=e.i(62382);e.i(66237);var b=e.i(97376),N=e.i(84505);function w(){let e=(0,l.useRouter)(),[w,S]=t.useState({page:1,pageSize:10}),[C,D]=t.useState(!1),[A,k]=t.useState(null),{data:T,isLoading:I,isError:M}=(0,b.useVehicles)(w),{data:V}=(0,b.useBrands)(),{data:z}=(0,b.useVehicleTypes)(),{data:R}=(0,b.useVehicleStatuses)(),P=(0,b.useDeleteVehicle)(),B=t.useMemo(()=>[{accessorKey:"vehicleCode",header:({column:e})=>(0,a.jsxs)(r.Button,{variant:"ghost",size:"sm",className:"-ml-3 h-8",onClick:()=>e.toggleSorting("asc"===e.getIsSorted()),children:["Cod",(0,a.jsx)(f.ArrowUpDown,{className:"ml-2 h-4 w-4"})]}),cell:({row:e})=>(0,a.jsx)("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:e.getValue("vehicleCode")})},{accessorKey:"licensePlate",header:"Nr. Inmatriculare",cell:({row:e})=>(0,a.jsx)("div",{className:"font-mono text-sm",children:e.getValue("licensePlate")})},{id:"brandModel",header:"Marca / Model",cell:({row:e})=>{let t=e.original;return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:t.brand?.name||"-"}),(0,a.jsx)("div",{className:"text-sm text-slate-500",children:t.model?.name||"-"})]})}},{accessorKey:"year",header:"An",cell:({row:e})=>e.getValue("year")||"-"},{accessorKey:"vehicleType",header:"Tip",cell:({row:e})=>{let a=e.original;return a.vehicleType?.name||"-"}},{accessorKey:"status",header:"Status",cell:({row:e})=>{let t=e.original.status;return t?(0,a.jsx)(i.Badge,{variant:"outline",className:(0,N.cn)("border-transparent",t.color&&`bg-[${t.color}]/10 text-[${t.color}]`),style:{backgroundColor:t.color?`${t.color}20`:void 0,color:t.color||void 0,borderColor:t.color||void 0},children:t.name}):"-"}},{accessorKey:"department",header:"Departament",cell:({row:e})=>{let a=e.original;return a.department?.name||"-"}},{accessorKey:"odometer",header:"Kilometraj",cell:({row:e})=>{let a=e.getValue("odometer");return a?`${a.toLocaleString("ro-RO")} km`:"-"}},{accessorKey:"isActive",header:"Activ",cell:({row:e})=>{let t=e.getValue("isActive");return(0,a.jsx)(i.Badge,{variant:t?"default":"secondary",children:t?"Activ":"Inactiv"})}},{id:"actions",header:"",cell:({row:t})=>{let l=t.original;return(0,a.jsxs)(n.DropdownMenu,{children:[(0,a.jsx)(n.DropdownMenuTrigger,{asChild:!0,children:(0,a.jsxs)(r.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",children:[(0,a.jsx)(h.MoreHorizontal,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Deschide meniu"})]})}),(0,a.jsxs)(n.DropdownMenuContent,{align:"end",children:[(0,a.jsx)(n.DropdownMenuLabel,{children:"Acțiuni"}),(0,a.jsx)(n.DropdownMenuSeparator,{}),(0,a.jsxs)(n.DropdownMenuItem,{onClick:()=>e.push(`/vehicles/${l.id}`),children:[(0,a.jsx)(m.Eye,{className:"mr-2 h-4 w-4"}),"Vizualizare"]}),(0,a.jsxs)(n.DropdownMenuItem,{onClick:()=>e.push(`/vehicles/${l.id}/edit`),children:[(0,a.jsx)(x.Pencil,{className:"mr-2 h-4 w-4"}),"Editare"]}),(0,a.jsxs)(n.DropdownMenuItem,{onClick:()=>e.push(`/vehicles/${l.id}/documents`),children:[(0,a.jsx)(y.FileText,{className:"mr-2 h-4 w-4"}),"Documente"]}),(0,a.jsx)(n.DropdownMenuSeparator,{}),(0,a.jsxs)(n.DropdownMenuItem,{onClick:()=>k(l.id),className:"text-red-600 focus:text-red-600",children:[(0,a.jsx)(g.Trash2,{className:"mr-2 h-4 w-4"}),"Șterge"]})]})]})}}],[e]),K=(e,a)=>{S(t=>({...t,[e]:"all"===a?void 0:a,page:1}))},$=w.brandId||w.vehicleTypeId||w.statusId||w.search,F=async()=>{A&&(await P.mutateAsync(A),k(null))};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold tracking-tight text-slate-900 dark:text-slate-100",children:"Vehicule"}),(0,a.jsx)("p",{className:"text-sm text-slate-500",children:"Gestionează flota de vehicule a companiei"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(r.Button,{variant:"outline",size:"sm",onClick:()=>D(!C),className:(0,N.cn)($&&"border-blue-500 text-blue-600"),children:[(0,a.jsx)(j.Filter,{className:"mr-2 h-4 w-4"}),"Filtre",$&&(0,a.jsx)(i.Badge,{variant:"secondary",className:"ml-2 h-5 px-1.5",children:[w.brandId,w.vehicleTypeId,w.statusId,w.search].filter(Boolean).length})]}),(0,a.jsxs)(r.Button,{onClick:()=>e.push("/vehicles/new"),children:[(0,a.jsx)(u.Plus,{className:"mr-2 h-4 w-4"}),"Vehicul nou"]})]})]}),C&&(0,a.jsxs)(d.Card,{children:[(0,a.jsx)(d.CardHeader,{className:"pb-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(d.CardTitle,{className:"text-base",children:"Filtre"}),$&&(0,a.jsxs)(r.Button,{variant:"ghost",size:"sm",onClick:()=>{S({page:1,pageSize:w.pageSize})},children:[(0,a.jsx)(v.X,{className:"mr-2 h-4 w-4"}),"Resetează"]})]})}),(0,a.jsx)(d.CardContent,{children:(0,a.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Marca"}),(0,a.jsxs)(o.Select,{value:w.brandId?.toString()||"all",onValueChange:e=>K("brandId","all"===e?void 0:parseInt(e)),children:[(0,a.jsx)(o.SelectTrigger,{children:(0,a.jsx)(o.SelectValue,{placeholder:"Toate mărcile"})}),(0,a.jsxs)(o.SelectContent,{children:[(0,a.jsx)(o.SelectItem,{value:"all",children:"Toate mărcile"}),V?.map(e=>(0,a.jsx)(o.SelectItem,{value:e.id.toString(),children:e.name},e.id))]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Tip vehicul"}),(0,a.jsxs)(o.Select,{value:w.vehicleTypeId?.toString()||"all",onValueChange:e=>K("vehicleTypeId","all"===e?void 0:parseInt(e)),children:[(0,a.jsx)(o.SelectTrigger,{children:(0,a.jsx)(o.SelectValue,{placeholder:"Toate tipurile"})}),(0,a.jsxs)(o.SelectContent,{children:[(0,a.jsx)(o.SelectItem,{value:"all",children:"Toate tipurile"}),z?.map(e=>(0,a.jsx)(o.SelectItem,{value:e.id.toString(),children:e.name},e.id))]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Status"}),(0,a.jsxs)(o.Select,{value:w.statusId?.toString()||"all",onValueChange:e=>K("statusId","all"===e?void 0:parseInt(e)),children:[(0,a.jsx)(o.SelectTrigger,{children:(0,a.jsx)(o.SelectValue,{placeholder:"Toate statusurile"})}),(0,a.jsxs)(o.SelectContent,{children:[(0,a.jsx)(o.SelectItem,{value:"all",children:"Toate statusurile"}),R?.map(e=>(0,a.jsx)(o.SelectItem,{value:e.id.toString(),children:e.name},e.id))]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Stare"}),(0,a.jsxs)(o.Select,{value:w.isActive?.toString()||"all",onValueChange:e=>K("isActive","all"===e?void 0:"true"===e),children:[(0,a.jsx)(o.SelectTrigger,{children:(0,a.jsx)(o.SelectValue,{placeholder:"Toate"})}),(0,a.jsxs)(o.SelectContent,{children:[(0,a.jsx)(o.SelectItem,{value:"all",children:"Toate"}),(0,a.jsx)(o.SelectItem,{value:"true",children:"Active"}),(0,a.jsx)(o.SelectItem,{value:"false",children:"Inactive"})]})]})]})]})})]}),(0,a.jsx)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:(0,a.jsx)(d.Card,{children:(0,a.jsx)(d.CardContent,{className:"pt-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"rounded-lg bg-blue-100 p-3 dark:bg-blue-900/30",children:(0,a.jsx)(p.Car,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-slate-500",children:"Total vehicule"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:I?"-":T?.pagination.totalItems||0})]})]})})})}),(0,a.jsx)(d.Card,{children:(0,a.jsx)(d.CardContent,{className:"pt-6",children:(0,a.jsx)(s.DataTable,{columns:B,data:T?.data||[],loading:I,searchPlaceholder:"Caută după cod, nr. înmatriculare...",serverSide:!0,totalItems:T?.pagination.totalItems,currentPage:w.page||1,pageSize:w.pageSize||10,onPageChange:e=>S(a=>({...a,page:e})),onPageSizeChange:e=>S(a=>({...a,pageSize:e,page:1})),onSearchChange:e=>S(a=>({...a,search:e,page:1})),onSortChange:(e,a)=>S(t=>({...t,sortBy:e,sortOrder:a}))})})}),(0,a.jsx)(c.AlertDialog,{open:!!A,onOpenChange:e=>!e&&k(null),children:(0,a.jsxs)(c.AlertDialogContent,{children:[(0,a.jsxs)(c.AlertDialogHeader,{children:[(0,a.jsx)(c.AlertDialogTitle,{children:"Ești sigur că vrei să ștergi acest vehicul?"}),(0,a.jsx)(c.AlertDialogDescription,{children:"Această acțiune nu poate fi anulată. Vehiculul va fi marcat ca inactiv și nu va mai apărea în listele active."})]}),(0,a.jsxs)(c.AlertDialogFooter,{children:[(0,a.jsx)(c.AlertDialogCancel,{children:"Anulează"}),(0,a.jsx)(c.AlertDialogAction,{onClick:F,className:"bg-red-600 hover:bg-red-700",children:"Șterge"})]})]})})]})}e.s(["default",()=>w])}]);