{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/mihai/dev/GitHub/MedFMS/app/frontend-next/src/lib/api/client.ts"],"sourcesContent":["import type { ApiError } from '@/types';\n\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3000/api';\n\nclass ApiClient {\n  private baseUrl: string;\n  private token: string | null = null;\n\n  constructor(baseUrl: string) {\n    this.baseUrl = baseUrl;\n    // Initialize token from localStorage if available (client-side only)\n    if (typeof window !== 'undefined') {\n      this.token = localStorage.getItem('auth_token');\n    }\n  }\n\n  setToken(token: string | null) {\n    this.token = token;\n    if (typeof window !== 'undefined') {\n      if (token) {\n        localStorage.setItem('auth_token', token);\n      } else {\n        localStorage.removeItem('auth_token');\n      }\n    }\n  }\n\n  getToken(): string | null {\n    return this.token;\n  }\n\n  private async request<T>(\n    endpoint: string,\n    options: RequestInit = {}\n  ): Promise<T> {\n    const url = `${this.baseUrl}${endpoint}`;\n\n    const headers: HeadersInit = {\n      'Content-Type': 'application/json',\n      ...options.headers,\n    };\n\n    if (this.token) {\n      (headers as Record<string, string>)['Authorization'] = `Bearer ${this.token}`;\n    }\n\n    const response = await fetch(url, {\n      ...options,\n      headers,\n    });\n\n    // Handle 401 Unauthorized - clear token and redirect to login\n    if (response.status === 401) {\n      this.setToken(null);\n      if (typeof window !== 'undefined') {\n        window.location.href = '/login';\n      }\n      throw new Error('Session expired. Please log in again.');\n    }\n\n    // Handle non-OK responses\n    if (!response.ok) {\n      let errorData: ApiError;\n      try {\n        errorData = await response.json();\n      } catch {\n        errorData = { message: `HTTP error ${response.status}` };\n      }\n      throw new ApiClientError(errorData.message, response.status, errorData);\n    }\n\n    // Handle empty responses\n    const contentType = response.headers.get('content-type');\n    if (!contentType || !contentType.includes('application/json')) {\n      return {} as T;\n    }\n\n    const json = await response.json();\n\n    // Backend wraps responses in { success: boolean, data: T, pagination?: {...} }\n    // Unwrap the data if present\n    if (json && typeof json === 'object' && 'success' in json && 'data' in json) {\n      // For paginated responses, return { data, pagination }\n      if ('pagination' in json) {\n        return { data: json.data, pagination: json.pagination } as T;\n      }\n      // For single item responses, return just the data\n      return json.data as T;\n    }\n\n    return json;\n  }\n\n  // GET request\n  async get<T>(endpoint: string, params?: Record<string, string | number | boolean | undefined>): Promise<T> {\n    let url = endpoint;\n    if (params) {\n      const searchParams = new URLSearchParams();\n      Object.entries(params).forEach(([key, value]) => {\n        if (value !== undefined && value !== null && value !== '') {\n          searchParams.append(key, String(value));\n        }\n      });\n      const queryString = searchParams.toString();\n      if (queryString) {\n        url += `?${queryString}`;\n      }\n    }\n    return this.request<T>(url, { method: 'GET' });\n  }\n\n  // POST request\n  async post<T>(endpoint: string, data?: unknown): Promise<T> {\n    return this.request<T>(endpoint, {\n      method: 'POST',\n      body: data ? JSON.stringify(data) : undefined,\n    });\n  }\n\n  // PUT request\n  async put<T>(endpoint: string, data?: unknown): Promise<T> {\n    return this.request<T>(endpoint, {\n      method: 'PUT',\n      body: data ? JSON.stringify(data) : undefined,\n    });\n  }\n\n  // PATCH request\n  async patch<T>(endpoint: string, data?: unknown): Promise<T> {\n    return this.request<T>(endpoint, {\n      method: 'PATCH',\n      body: data ? JSON.stringify(data) : undefined,\n    });\n  }\n\n  // DELETE request\n  async delete<T>(endpoint: string): Promise<T> {\n    return this.request<T>(endpoint, { method: 'DELETE' });\n  }\n\n  // File upload\n  async upload<T>(endpoint: string, formData: FormData): Promise<T> {\n    const url = `${this.baseUrl}${endpoint}`;\n\n    const headers: HeadersInit = {};\n    if (this.token) {\n      (headers as Record<string, string>)['Authorization'] = `Bearer ${this.token}`;\n    }\n    // Don't set Content-Type for FormData - browser will set it with boundary\n\n    const response = await fetch(url, {\n      method: 'POST',\n      headers,\n      body: formData,\n    });\n\n    if (!response.ok) {\n      let errorData: ApiError;\n      try {\n        errorData = await response.json();\n      } catch {\n        errorData = { message: `Upload failed with status ${response.status}` };\n      }\n      throw new ApiClientError(errorData.message, response.status, errorData);\n    }\n\n    const json = await response.json();\n\n    // Backend wraps responses in { success: boolean, data: T }\n    if (json && typeof json === 'object' && 'success' in json && 'data' in json) {\n      return json.data as T;\n    }\n\n    return json;\n  }\n}\n\n// Custom error class for API errors\nexport class ApiClientError extends Error {\n  status: number;\n  details?: ApiError;\n\n  constructor(message: string, status: number, details?: ApiError) {\n    super(message);\n    this.name = 'ApiClientError';\n    this.status = status;\n    this.details = details;\n  }\n}\n\n// Singleton instance\nexport const api = new ApiClient(API_BASE_URL);\n\n// Re-export for convenience\nexport default api;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 195, "column": 0}, "map": {"version":3,"sources":["file:///Users/mihai/dev/GitHub/MedFMS/app/frontend-next/src/lib/api/auth.ts"],"sourcesContent":["import { api } from './client';\nimport type { LoginCredentials, LoginResponse, User } from '@/types';\n\nexport const authApi = {\n  // Login with PIN\n  login: async (credentials: LoginCredentials): Promise<LoginResponse> => {\n    const response = await api.post<LoginResponse>('/auth/login', credentials);\n    // Store token after successful login\n    api.setToken(response.token);\n    return response;\n  },\n\n  // Logout\n  logout: async (): Promise<void> => {\n    try {\n      await api.post('/auth/logout');\n    } finally {\n      api.setToken(null);\n    }\n  },\n\n  // Get current user\n  getCurrentUser: async (): Promise<User> => {\n    return api.get<User>('/auth/me');\n  },\n\n  // Validate token - decode JWT and check expiration\n  // Note: Backend doesn't have /auth/me endpoint, so we validate locally\n  validateToken: async (): Promise<{ valid: boolean; user?: User }> => {\n    const token = api.getToken();\n    if (!token) {\n      return { valid: false };\n    }\n\n    try {\n      // Decode JWT payload (base64)\n      const parts = token.split('.');\n      if (parts.length !== 3) {\n        return { valid: false };\n      }\n\n      const payload = JSON.parse(atob(parts[1]));\n\n      // Check if token is expired\n      if (payload.exp && payload.exp * 1000 < Date.now()) {\n        return { valid: false };\n      }\n\n      // Return user data from token payload\n      const user: User = {\n        id: payload.id,\n        username: payload.username,\n        fullName: payload.fullName || payload.username,\n        email: payload.email || null,\n        role: payload.role,\n        departmentId: payload.departmentId || null,\n        isActive: true,\n        createdAt: '',\n        updatedAt: '',\n      };\n\n      return { valid: true, user };\n    } catch {\n      return { valid: false };\n    }\n  },\n\n  // Change PIN\n  changePin: async (oldPin: string, newPin: string): Promise<void> => {\n    return api.post('/auth/change-pin', { oldPin, newPin });\n  },\n};\n\nexport default authApi;\n"],"names":[],"mappings":";;;;;;AAAA;;AAGO,MAAM,UAAU;IACrB,iBAAiB;IACjB,OAAO,OAAO;QACZ,MAAM,WAAW,MAAM,6JAAG,CAAC,IAAI,CAAgB,eAAe;QAC9D,qCAAqC;QACrC,6JAAG,CAAC,QAAQ,CAAC,SAAS,KAAK;QAC3B,OAAO;IACT;IAEA,SAAS;IACT,QAAQ;QACN,IAAI;YACF,MAAM,6JAAG,CAAC,IAAI,CAAC;QACjB,SAAU;YACR,6JAAG,CAAC,QAAQ,CAAC;QACf;IACF;IAEA,mBAAmB;IACnB,gBAAgB;QACd,OAAO,6JAAG,CAAC,GAAG,CAAO;IACvB;IAEA,mDAAmD;IACnD,uEAAuE;IACvE,eAAe;QACb,MAAM,QAAQ,6JAAG,CAAC,QAAQ;QAC1B,IAAI,CAAC,OAAO;YACV,OAAO;gBAAE,OAAO;YAAM;QACxB;QAEA,IAAI;YACF,8BAA8B;YAC9B,MAAM,QAAQ,MAAM,KAAK,CAAC;YAC1B,IAAI,MAAM,MAAM,KAAK,GAAG;gBACtB,OAAO;oBAAE,OAAO;gBAAM;YACxB;YAEA,MAAM,UAAU,KAAK,KAAK,CAAC,KAAK,KAAK,CAAC,EAAE;YAExC,4BAA4B;YAC5B,IAAI,QAAQ,GAAG,IAAI,QAAQ,GAAG,GAAG,OAAO,KAAK,GAAG,IAAI;gBAClD,OAAO;oBAAE,OAAO;gBAAM;YACxB;YAEA,sCAAsC;YACtC,MAAM,OAAa;gBACjB,IAAI,QAAQ,EAAE;gBACd,UAAU,QAAQ,QAAQ;gBAC1B,UAAU,QAAQ,QAAQ,IAAI,QAAQ,QAAQ;gBAC9C,OAAO,QAAQ,KAAK,IAAI;gBACxB,MAAM,QAAQ,IAAI;gBAClB,cAAc,QAAQ,YAAY,IAAI;gBACtC,UAAU;gBACV,WAAW;gBACX,WAAW;YACb;YAEA,OAAO;gBAAE,OAAO;gBAAM;YAAK;QAC7B,EAAE,OAAM;YACN,OAAO;gBAAE,OAAO;YAAM;QACxB;IACF;IAEA,aAAa;IACb,WAAW,OAAO,QAAgB;QAChC,OAAO,6JAAG,CAAC,IAAI,CAAC,oBAAoB;YAAE;YAAQ;QAAO;IACvD;AACF;uCAEe"}},
    {"offset": {"line": 282, "column": 0}, "map": {"version":3,"sources":["file:///Users/mihai/dev/GitHub/MedFMS/app/frontend-next/src/lib/stores/auth-store.ts"],"sourcesContent":["import { create } from 'zustand';\nimport { persist } from 'zustand/middleware';\nimport type { User, AuthState } from '@/types';\nimport { authApi } from '@/lib/api/auth';\nimport { api } from '@/lib/api/client';\n\ninterface AuthStore extends AuthState {\n  // Actions\n  login: (username: string, pin: string) => Promise<void>;\n  logout: () => Promise<void>;\n  checkAuth: () => Promise<boolean>;\n  setUser: (user: User | null) => void;\n  setLoading: (loading: boolean) => void;\n}\n\nexport const useAuthStore = create<AuthStore>()(\n  persist(\n    (set, get) => ({\n      // Initial state\n      user: null,\n      token: null,\n      isAuthenticated: false,\n      isLoading: true,\n\n      // Login action\n      login: async (username: string, pin: string) => {\n        set({ isLoading: true });\n        try {\n          const response = await authApi.login({ username, pin });\n          // authApi.login already calls api.setToken, but also sync to localStorage\n          api.setToken(response.token);\n          set({\n            user: response.user,\n            token: response.token,\n            isAuthenticated: true,\n            isLoading: false,\n          });\n        } catch (error) {\n          set({ isLoading: false });\n          throw error;\n        }\n      },\n\n      // Logout action\n      logout: async () => {\n        try {\n          await authApi.logout();\n        } catch {\n          // Ignore logout errors\n        } finally {\n          api.setToken(null);\n          set({\n            user: null,\n            token: null,\n            isAuthenticated: false,\n            isLoading: false,\n          });\n        }\n      },\n\n      // Check if current token is still valid\n      checkAuth: async () => {\n        const { token, user: storedUser } = get();\n        if (!token) {\n          set({ isLoading: false, isAuthenticated: false });\n          return false;\n        }\n\n        // Restore token to API client\n        api.setToken(token);\n\n        try {\n          const { valid, user: tokenUser } = await authApi.validateToken();\n          if (valid) {\n            // Prefer stored user data (from login), fall back to token data\n            const user = storedUser || tokenUser;\n            set({\n              user,\n              isAuthenticated: true,\n              isLoading: false,\n            });\n            return true;\n          } else {\n            api.setToken(null);\n            set({\n              user: null,\n              token: null,\n              isAuthenticated: false,\n              isLoading: false,\n            });\n            return false;\n          }\n        } catch {\n          api.setToken(null);\n          set({\n            user: null,\n            token: null,\n            isAuthenticated: false,\n            isLoading: false,\n          });\n          return false;\n        }\n      },\n\n      // Set user manually\n      setUser: (user) => {\n        set({ user, isAuthenticated: !!user });\n      },\n\n      // Set loading state\n      setLoading: (loading) => {\n        set({ isLoading: loading });\n      },\n    }),\n    {\n      name: 'auth-storage',\n      partialize: (state) => ({\n        token: state.token,\n        user: state.user,\n      }),\n      onRehydrateStorage: () => (state) => {\n        // When store rehydrates from localStorage, sync token to API client\n        if (state?.token) {\n          api.setToken(state.token);\n        }\n      },\n    }\n  )\n);\n\n// Selector hooks for convenience\nexport const useUser = () => useAuthStore((state) => state.user);\nexport const useIsAuthenticated = () => useAuthStore((state) => state.isAuthenticated);\nexport const useIsLoading = () => useAuthStore((state) => state.isLoading);\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AACA;AAEA;AACA;;;;;AAWO,MAAM,eAAe,IAAA,6KAAM,IAChC,IAAA,mLAAO,EACL,CAAC,KAAK,MAAQ,CAAC;QACb,gBAAgB;QAChB,MAAM;QACN,OAAO;QACP,iBAAiB;QACjB,WAAW;QAEX,eAAe;QACf,OAAO,OAAO,UAAkB;YAC9B,IAAI;gBAAE,WAAW;YAAK;YACtB,IAAI;gBACF,MAAM,WAAW,MAAM,+JAAO,CAAC,KAAK,CAAC;oBAAE;oBAAU;gBAAI;gBACrD,0EAA0E;gBAC1E,6JAAG,CAAC,QAAQ,CAAC,SAAS,KAAK;gBAC3B,IAAI;oBACF,MAAM,SAAS,IAAI;oBACnB,OAAO,SAAS,KAAK;oBACrB,iBAAiB;oBACjB,WAAW;gBACb;YACF,EAAE,OAAO,OAAO;gBACd,IAAI;oBAAE,WAAW;gBAAM;gBACvB,MAAM;YACR;QACF;QAEA,gBAAgB;QAChB,QAAQ;YACN,IAAI;gBACF,MAAM,+JAAO,CAAC,MAAM;YACtB,EAAE,OAAM;YACN,uBAAuB;YACzB,SAAU;gBACR,6JAAG,CAAC,QAAQ,CAAC;gBACb,IAAI;oBACF,MAAM;oBACN,OAAO;oBACP,iBAAiB;oBACjB,WAAW;gBACb;YACF;QACF;QAEA,wCAAwC;QACxC,WAAW;YACT,MAAM,EAAE,KAAK,EAAE,MAAM,UAAU,EAAE,GAAG;YACpC,IAAI,CAAC,OAAO;gBACV,IAAI;oBAAE,WAAW;oBAAO,iBAAiB;gBAAM;gBAC/C,OAAO;YACT;YAEA,8BAA8B;YAC9B,6JAAG,CAAC,QAAQ,CAAC;YAEb,IAAI;gBACF,MAAM,EAAE,KAAK,EAAE,MAAM,SAAS,EAAE,GAAG,MAAM,+JAAO,CAAC,aAAa;gBAC9D,IAAI,OAAO;oBACT,gEAAgE;oBAChE,MAAM,OAAO,cAAc;oBAC3B,IAAI;wBACF;wBACA,iBAAiB;wBACjB,WAAW;oBACb;oBACA,OAAO;gBACT,OAAO;oBACL,6JAAG,CAAC,QAAQ,CAAC;oBACb,IAAI;wBACF,MAAM;wBACN,OAAO;wBACP,iBAAiB;wBACjB,WAAW;oBACb;oBACA,OAAO;gBACT;YACF,EAAE,OAAM;gBACN,6JAAG,CAAC,QAAQ,CAAC;gBACb,IAAI;oBACF,MAAM;oBACN,OAAO;oBACP,iBAAiB;oBACjB,WAAW;gBACb;gBACA,OAAO;YACT;QACF;QAEA,oBAAoB;QACpB,SAAS,CAAC;YACR,IAAI;gBAAE;gBAAM,iBAAiB,CAAC,CAAC;YAAK;QACtC;QAEA,oBAAoB;QACpB,YAAY,CAAC;YACX,IAAI;gBAAE,WAAW;YAAQ;QAC3B;IACF,CAAC,GACD;IACE,MAAM;IACN,YAAY,CAAC,QAAU,CAAC;YACtB,OAAO,MAAM,KAAK;YAClB,MAAM,MAAM,IAAI;QAClB,CAAC;IACD,oBAAoB,IAAM,CAAC;YACzB,oEAAoE;YACpE,IAAI,OAAO,OAAO;gBAChB,6JAAG,CAAC,QAAQ,CAAC,MAAM,KAAK;YAC1B;QACF;AACF;AAKG,MAAM,UAAU,IAAM,aAAa,CAAC,QAAU,MAAM,IAAI;AACxD,MAAM,qBAAqB,IAAM,aAAa,CAAC,QAAU,MAAM,eAAe;AAC9E,MAAM,eAAe,IAAM,aAAa,CAAC,QAAU,MAAM,SAAS"}},
    {"offset": {"line": 424, "column": 0}, "map": {"version":3,"sources":["file:///Users/mihai/dev/GitHub/MedFMS/app/frontend-next/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,iMAAO,EAAC,IAAA,wKAAI,EAAC;AACtB"}},
    {"offset": {"line": 439, "column": 0}, "map": {"version":3,"sources":["file:///Users/mihai/dev/GitHub/MedFMS/app/frontend-next/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n        \"icon-sm\": \"size-8\",\n        \"icon-lg\": \"size-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,kMAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,mMAAI,GAAG;IAE9B,qBACE,yQAAC;QACC,aAAU;QACV,WAAW,IAAA,oJAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 498, "column": 0}, "map": {"version":3,"sources":["file:///Users/mihai/dev/GitHub/MedFMS/app/frontend-next/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,yQAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,oJAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 523, "column": 0}, "map": {"version":3,"sources":["file:///Users/mihai/dev/GitHub/MedFMS/app/frontend-next/src/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        \"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,yQAAC,oMAAmB;QAClB,aAAU;QACV,WAAW,IAAA,oJAAE,EACX,uNACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 550, "column": 0}, "map": {"version":3,"sources":["file:///Users/mihai/dev/GitHub/MedFMS/app/frontend-next/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,yQAAC;QACC,aAAU;QACV,WAAW,IAAA,oJAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,yQAAC;QACC,aAAU;QACV,WAAW,IAAA,oJAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,yQAAC;QACC,aAAU;QACV,WAAW,IAAA,oJAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,yQAAC;QACC,aAAU;QACV,WAAW,IAAA,oJAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,yQAAC;QACC,aAAU;QACV,WAAW,IAAA,oJAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,yQAAC;QACC,aAAU;QACV,WAAW,IAAA,oJAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,yQAAC;QACC,aAAU;QACV,WAAW,IAAA,oJAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 652, "column": 0}, "map": {"version":3,"sources":["file:///Users/mihai/dev/GitHub/MedFMS/app/frontend-next/src/components/ui/alert.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-card text-card-foreground\",\n        destructive:\n          \"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nfunction Alert({\n  className,\n  variant,\n  ...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof alertVariants>) {\n  return (\n    <div\n      data-slot=\"alert\"\n      role=\"alert\"\n      className={cn(alertVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"alert-title\"\n      className={cn(\n        \"col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDescription({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"alert-description\"\n      className={cn(\n        \"text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Alert, AlertTitle, AlertDescription }\n"],"names":[],"mappings":";;;;;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,kMAAG,EACvB,qOACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,GAAG,OAC8D;IACjE,qBACE,yQAAC;QACC,aAAU;QACV,MAAK;QACL,WAAW,IAAA,oJAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,yQAAC;QACC,aAAU;QACV,WAAW,IAAA,oJAAE,EACX,+DACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,iBAAiB,EACxB,SAAS,EACT,GAAG,OACyB;IAC5B,qBACE,yQAAC;QACC,aAAU;QACV,WAAW,IAAA,oJAAE,EACX,kGACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 718, "column": 0}, "map": {"version":3,"sources":["file:///Users/mihai/dev/GitHub/MedFMS/app/frontend-next/src/app/%28auth%29/login/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useRef } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { useAuthStore } from '@/lib/stores/auth-store';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport { Loader2, AlertCircle, Truck, Shield, Fuel, Wrench, User } from 'lucide-react';\n\nconst PIN_LENGTH = 4;\n\nexport default function LoginPage() {\n  const router = useRouter();\n  const { login, isAuthenticated, isLoading: authLoading, checkAuth } = useAuthStore();\n\n  const [username, setUsername] = useState('');\n  const [pin, setPin] = useState('');\n  const [error, setError] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [isCheckingAuth, setIsCheckingAuth] = useState(true);\n  const usernameRef = useRef<HTMLInputElement>(null);\n  const pinInputRefs = useRef<(HTMLInputElement | null)[]>([]);\n\n  // Check if already authenticated\n  useEffect(() => {\n    const check = async () => {\n      const isValid = await checkAuth();\n      if (isValid) {\n        router.push('/');\n      }\n      setIsCheckingAuth(false);\n    };\n    check();\n  }, [checkAuth, router]);\n\n  // Redirect if authenticated\n  useEffect(() => {\n    if (isAuthenticated && !isCheckingAuth) {\n      router.push('/');\n    }\n  }, [isAuthenticated, isCheckingAuth, router]);\n\n  // Auto-focus username input\n  useEffect(() => {\n    if (!isCheckingAuth && usernameRef.current) {\n      usernameRef.current.focus();\n    }\n  }, [isCheckingAuth]);\n\n  const handlePinChange = (index: number, value: string) => {\n    if (!/^\\d*$/.test(value)) return; // Only allow digits\n\n    const newPin = pin.split('');\n    newPin[index] = value.slice(-1); // Take only last character\n    const updatedPin = newPin.join('').slice(0, PIN_LENGTH);\n    setPin(updatedPin);\n    setError('');\n\n    // Move to next input\n    if (value && index < PIN_LENGTH - 1) {\n      pinInputRefs.current[index + 1]?.focus();\n    }\n\n    // Auto-submit when complete\n    if (updatedPin.length === PIN_LENGTH && username) {\n      handleSubmit(username, updatedPin);\n    }\n  };\n\n  const handleKeyDown = (index: number, e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.key === 'Backspace' && !pin[index] && index > 0) {\n      pinInputRefs.current[index - 1]?.focus();\n    }\n    if (e.key === 'ArrowLeft' && index > 0) {\n      pinInputRefs.current[index - 1]?.focus();\n    }\n    if (e.key === 'ArrowRight' && index < PIN_LENGTH - 1) {\n      pinInputRefs.current[index + 1]?.focus();\n    }\n  };\n\n  const handlePaste = (e: React.ClipboardEvent) => {\n    e.preventDefault();\n    const pastedData = e.clipboardData.getData('text').replace(/\\D/g, '').slice(0, PIN_LENGTH);\n    setPin(pastedData);\n    if (pastedData.length === PIN_LENGTH && username) {\n      handleSubmit(username, pastedData);\n    } else if (pastedData.length > 0) {\n      pinInputRefs.current[Math.min(pastedData.length, PIN_LENGTH - 1)]?.focus();\n    }\n  };\n\n  const handleUsernameKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.key === 'Enter' && username) {\n      e.preventDefault();\n      pinInputRefs.current[0]?.focus();\n    }\n  };\n\n  const handleSubmit = async (user: string = username, pinCode: string = pin) => {\n    if (!user) {\n      setError('Introduceți numele de utilizator');\n      usernameRef.current?.focus();\n      return;\n    }\n\n    if (pinCode.length !== PIN_LENGTH) {\n      setError('Introduceți codul PIN complet');\n      return;\n    }\n\n    setIsLoading(true);\n    setError('');\n\n    try {\n      await login(user, pinCode);\n      // Use window.location to ensure full page reload and proper state hydration\n      window.location.href = '/';\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Credențiale invalide');\n      setPin('');\n      pinInputRefs.current[0]?.focus();\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  if (isCheckingAuth || authLoading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900\">\n        <motion.div\n          initial={{ opacity: 0, scale: 0.95 }}\n          animate={{ opacity: 1, scale: 1 }}\n          className=\"flex flex-col items-center gap-4\"\n        >\n          <Loader2 className=\"h-8 w-8 animate-spin text-blue-500\" />\n          <p className=\"text-slate-400\">Se verifică sesiunea...</p>\n        </motion.div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 p-4\">\n      {/* Background decorations */}\n      <div className=\"absolute inset-0 overflow-hidden\">\n        <div className=\"absolute -top-40 -right-40 w-80 h-80 rounded-full bg-blue-500/10 blur-3xl\" />\n        <div className=\"absolute -bottom-40 -left-40 w-80 h-80 rounded-full bg-emerald-500/10 blur-3xl\" />\n      </div>\n\n      <div className=\"relative w-full max-w-md\">\n        {/* Logo and title */}\n        <motion.div\n          initial={{ opacity: 0, y: -20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.5 }}\n          className=\"text-center mb-8\"\n        >\n          <div className=\"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-blue-500 to-blue-600 shadow-lg shadow-blue-500/25 mb-4\">\n            <Truck className=\"h-8 w-8 text-white\" />\n          </div>\n          <h1 className=\"text-3xl font-bold text-white mb-2\">MedFMS</h1>\n          <p className=\"text-slate-400\">Fleet Management System</p>\n        </motion.div>\n\n        {/* Login card */}\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.5, delay: 0.1 }}\n        >\n          <Card className=\"border-slate-700/50 bg-slate-800/50 backdrop-blur-xl shadow-2xl\">\n            <CardHeader className=\"text-center pb-4\">\n              <CardTitle className=\"text-xl text-white\">Autentificare</CardTitle>\n              <CardDescription className=\"text-slate-400\">\n                Introduceți credențialele pentru a continua\n              </CardDescription>\n            </CardHeader>\n            <CardContent className=\"space-y-6\">\n              <form\n                onSubmit={(e) => {\n                  e.preventDefault();\n                  handleSubmit();\n                }}\n                className=\"space-y-6\"\n              >\n                {/* Username Input */}\n                <motion.div\n                  initial={{ opacity: 0, x: -20 }}\n                  animate={{ opacity: 1, x: 0 }}\n                  transition={{ duration: 0.3, delay: 0.2 }}\n                  className=\"space-y-2\"\n                >\n                  <Label htmlFor=\"username\" className=\"text-slate-300\">\n                    Utilizator\n                  </Label>\n                  <div className=\"relative\">\n                    <User className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-500\" />\n                    <Input\n                      ref={usernameRef}\n                      id=\"username\"\n                      type=\"text\"\n                      placeholder=\"Nume utilizator\"\n                      value={username}\n                      onChange={(e) => {\n                        setUsername(e.target.value);\n                        setError('');\n                      }}\n                      onKeyDown={handleUsernameKeyDown}\n                      disabled={isLoading}\n                      className=\"pl-10 h-12 bg-slate-900/50 border-slate-600 text-white placeholder:text-slate-500 focus:border-blue-500\"\n                    />\n                  </div>\n                </motion.div>\n\n                {/* PIN Input */}\n                <motion.div\n                  initial={{ opacity: 0, x: -20 }}\n                  animate={{ opacity: 1, x: 0 }}\n                  transition={{ duration: 0.3, delay: 0.3 }}\n                  className=\"space-y-2\"\n                >\n                  <Label className=\"text-slate-300\">Cod PIN</Label>\n                  <div className=\"flex justify-center gap-3\" onPaste={handlePaste}>\n                    {Array.from({ length: PIN_LENGTH }).map((_, index) => (\n                      <motion.div\n                        key={index}\n                        initial={{ opacity: 0, scale: 0.8 }}\n                        animate={{ opacity: 1, scale: 1 }}\n                        transition={{ duration: 0.2, delay: 0.35 + index * 0.05 }}\n                      >\n                        <input\n                          ref={(el) => { pinInputRefs.current[index] = el; }}\n                          type=\"password\"\n                          inputMode=\"numeric\"\n                          maxLength={1}\n                          value={pin[index] || ''}\n                          onChange={(e) => handlePinChange(index, e.target.value)}\n                          onKeyDown={(e) => handleKeyDown(index, e)}\n                          disabled={isLoading}\n                          className={`\n                            w-14 h-14 text-center text-2xl font-semibold rounded-xl\n                            border-2 transition-all duration-200\n                            bg-slate-900/50 text-white\n                            focus:outline-none focus:ring-2 focus:ring-blue-500/50\n                            disabled:opacity-50 disabled:cursor-not-allowed\n                            ${pin[index] ? 'border-blue-500' : 'border-slate-600'}\n                            ${error ? 'border-red-500 animate-shake' : ''}\n                          `}\n                        />\n                      </motion.div>\n                    ))}\n                  </div>\n                </motion.div>\n\n                {/* Error message */}\n                <AnimatePresence mode=\"wait\">\n                  {error && (\n                    <motion.div\n                      initial={{ opacity: 0, y: -10 }}\n                      animate={{ opacity: 1, y: 0 }}\n                      exit={{ opacity: 0, y: -10 }}\n                    >\n                      <Alert variant=\"destructive\" className=\"border-red-500/50 bg-red-500/10\">\n                        <AlertCircle className=\"h-4 w-4\" />\n                        <AlertDescription>{error}</AlertDescription>\n                      </Alert>\n                    </motion.div>\n                  )}\n                </AnimatePresence>\n\n                {/* Submit button */}\n                <Button\n                  type=\"submit\"\n                  disabled={isLoading || !username || pin.length !== PIN_LENGTH}\n                  className=\"w-full h-12 text-base font-medium bg-blue-600 hover:bg-blue-700 disabled:opacity-50\"\n                >\n                  {isLoading ? (\n                    <>\n                      <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                      Se autentifică...\n                    </>\n                  ) : (\n                    'Autentificare'\n                  )}\n                </Button>\n\n                {/* Keyboard hint */}\n                <p className=\"text-center text-xs text-slate-500\">\n                  Introduceți utilizatorul și codul PIN pentru a vă autentifica\n                </p>\n              </form>\n            </CardContent>\n          </Card>\n        </motion.div>\n\n        {/* Feature badges */}\n        <motion.div\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          transition={{ duration: 0.5, delay: 0.4 }}\n          className=\"mt-8 flex justify-center gap-6\"\n        >\n          {[\n            { icon: Truck, label: 'Vehicule' },\n            { icon: Fuel, label: 'Combustibil' },\n            { icon: Wrench, label: 'Mentenanță' },\n            { icon: Shield, label: 'Securitate' },\n          ].map((feature) => (\n            <div\n              key={feature.label}\n              className=\"flex flex-col items-center gap-1 text-slate-500\"\n            >\n              <feature.icon className=\"h-5 w-5\" />\n              <span className=\"text-xs\">{feature.label}</span>\n            </div>\n          ))}\n        </motion.div>\n\n        {/* Footer */}\n        <motion.p\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          transition={{ duration: 0.5, delay: 0.5 }}\n          className=\"mt-8 text-center text-xs text-slate-600\"\n        >\n          © 2024 MedFMS. Toate drepturile rezervate.\n        </motion.p>\n      </div>\n\n      <style jsx>{`\n        @keyframes shake {\n          0%, 100% { transform: translateX(0); }\n          10%, 30%, 50%, 70%, 90% { transform: translateX(-4px); }\n          20%, 40%, 60%, 80% { transform: translateX(4px); }\n        }\n        .animate-shake {\n          animation: shake 0.5s ease-in-out;\n        }\n      `}</style>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}