{"version":3,"sources":["../../../../../../app/frontend-next/src/app/%28dashboard%29/warehouse/materials/import/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useCallback } from 'react';\nimport Link from 'next/link';\nimport { useMutation, useQueryClient } from '@tanstack/react-query';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Badge } from '@/components/ui/badge';\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from '@/components/ui/table';\nimport {\n  Alert,\n  AlertDescription,\n  AlertTitle,\n} from '@/components/ui/alert';\nimport { toast } from 'sonner';\nimport {\n  ArrowLeft,\n  Upload,\n  FileSpreadsheet,\n  CheckCircle,\n  XCircle,\n  AlertTriangle,\n  Loader2,\n  Download,\n  FileText,\n  Package,\n} from 'lucide-react';\nimport { warehouseApi } from '@/lib/api/warehouse';\n\ninterface ImportResult {\n  imported: number;\n  errors: string[];\n}\n\ninterface ParsedRow {\n  rowNumber: number;\n  materialCode?: string;\n  name?: string;\n  description?: string;\n  category?: string;\n  unit?: string;\n  currentStock?: number;\n  criticalLevel?: number;\n  standardPrice?: number;\n  warehouse?: string;\n  isValid: boolean;\n  errors: string[];\n}\n\nexport default function MaterialsImportPage() {\n  const queryClient = useQueryClient();\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\n  const [previewData, setPreviewData] = useState<ParsedRow[]>([]);\n  const [importResult, setImportResult] = useState<ImportResult | null>(null);\n  const [isDragOver, setIsDragOver] = useState(false);\n\n  // Import mutation\n  const importMutation = useMutation({\n    mutationFn: (file: File) => warehouseApi.importMaterials(file),\n    onSuccess: (result) => {\n      setImportResult(result);\n      if (result.imported > 0) {\n        toast.success(`${result.imported} materiale importate cu succes`);\n        queryClient.invalidateQueries({ queryKey: ['warehouse'] });\n        queryClient.invalidateQueries({ queryKey: ['materials'] });\n      }\n      if (result.errors.length > 0) {\n        toast.error(`${result.errors.length} erori la import`);\n      }\n    },\n    onError: (error: Error) => {\n      toast.error(error.message || 'Eroare la import');\n    },\n  });\n\n  // Parse CSV preview\n  const parseCSVPreview = useCallback(async (file: File) => {\n    const text = await file.text();\n    const lines = text.split('\\n').filter(line => line.trim());\n\n    if (lines.length < 2) {\n      toast.error('Fișierul nu conține date');\n      return;\n    }\n\n    const headers = lines[0].split(',').map(h => h.trim().toLowerCase());\n    const preview: ParsedRow[] = [];\n\n    for (let i = 1; i < Math.min(lines.length, 11); i++) {\n      const values = lines[i].split(',').map(v => v.trim().replace(/^\"|\"$/g, ''));\n      const row: ParsedRow = {\n        rowNumber: i + 1,\n        isValid: true,\n        errors: [],\n      };\n\n      headers.forEach((header, index) => {\n        const value = values[index];\n        if (header.includes('cod') || header.includes('code')) {\n          row.materialCode = value;\n        } else if (header.includes('denumire') || header.includes('name') || header.includes('nume')) {\n          row.name = value;\n        } else if (header.includes('descriere') || header.includes('description')) {\n          row.description = value;\n        } else if (header.includes('categorie') || header.includes('category')) {\n          row.category = value;\n        } else if (header.includes('unitate') || header.includes('unit')) {\n          row.unit = value;\n        } else if (header.includes('stoc') || header.includes('stock') || header.includes('cantitate')) {\n          row.currentStock = parseFloat(value) || 0;\n        } else if (header.includes('critic') || header.includes('critical') || header.includes('minim')) {\n          row.criticalLevel = parseFloat(value) || 0;\n        } else if (header.includes('pret') || header.includes('price')) {\n          row.standardPrice = parseFloat(value) || 0;\n        } else if (header.includes('depozit') || header.includes('warehouse')) {\n          row.warehouse = value;\n        }\n      });\n\n      // Validate row\n      if (!row.materialCode) {\n        row.isValid = false;\n        row.errors.push('Lipsește codul materialului');\n      }\n      if (!row.name) {\n        row.isValid = false;\n        row.errors.push('Lipsește denumirea');\n      }\n\n      preview.push(row);\n    }\n\n    setPreviewData(preview);\n  }, []);\n\n  // Handle file selection\n  const handleFileSelect = useCallback((file: File | null) => {\n    if (!file) return;\n\n    // Validate file type\n    const validTypes = [\n      'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n      'application/vnd.ms-excel',\n      'text/csv',\n    ];\n    const validExtensions = ['.xlsx', '.xls', '.csv'];\n    const hasValidExtension = validExtensions.some(ext => file.name.toLowerCase().endsWith(ext));\n\n    if (!validTypes.includes(file.type) && !hasValidExtension) {\n      toast.error('Format de fișier invalid. Acceptăm doar fișiere Excel (.xlsx, .xls) sau CSV.');\n      return;\n    }\n\n    // Validate file size (max 10MB)\n    if (file.size > 10 * 1024 * 1024) {\n      toast.error('Fișierul este prea mare. Dimensiunea maximă este 10MB.');\n      return;\n    }\n\n    setSelectedFile(file);\n    setImportResult(null);\n    setPreviewData([]);\n\n    // Parse preview (for CSV files)\n    if (file.name.toLowerCase().endsWith('.csv')) {\n      parseCSVPreview(file);\n    }\n  }, [parseCSVPreview]);\n\n  // Handle drag and drop\n  const handleDragOver = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragOver(true);\n  }, []);\n\n  const handleDragLeave = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragOver(false);\n  }, []);\n\n  const handleDrop = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragOver(false);\n    const file = e.dataTransfer.files[0];\n    handleFileSelect(file);\n  }, [handleFileSelect]);\n\n  // Handle import\n  const handleImport = () => {\n    if (!selectedFile) return;\n    importMutation.mutate(selectedFile);\n  };\n\n  // Reset form\n  const handleReset = () => {\n    setSelectedFile(null);\n    setPreviewData([]);\n    setImportResult(null);\n  };\n\n  // Download template\n  const downloadTemplate = () => {\n    const headers = ['cod_material', 'denumire', 'descriere', 'categorie', 'unitate', 'stoc_curent', 'nivel_critic', 'pret_standard', 'depozit'];\n    const sampleRow = ['MAT001', 'Ulei motor 5W40', 'Ulei sintetic premium', 'Lubrifianți', 'litru', '50', '10', '75.50', 'Depozit Principal'];\n    const csvContent = [headers.join(','), sampleRow.join(',')].join('\\n');\n\n    const blob = new Blob(['\\ufeff' + csvContent], { type: 'text/csv;charset=utf-8;' });\n    const link = document.createElement('a');\n    link.href = URL.createObjectURL(blob);\n    link.download = 'template-import-materiale.csv';\n    link.click();\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\n        <div>\n          <div className=\"flex items-center gap-2 mb-2\">\n            <Button variant=\"ghost\" size=\"sm\" asChild>\n              <Link href=\"/warehouse\">\n                <ArrowLeft className=\"h-4 w-4 mr-1\" />\n                Înapoi la Depozit\n              </Link>\n            </Button>\n          </div>\n          <h1 className=\"text-3xl font-bold tracking-tight\">Import Materiale</h1>\n          <p className=\"text-slate-500 dark:text-slate-400\">\n            Importă materiale din fișiere Excel sau CSV\n          </p>\n        </div>\n        <Button variant=\"outline\" onClick={downloadTemplate}>\n          <Download className=\"mr-2 h-4 w-4\" />\n          Descarcă Template\n        </Button>\n      </div>\n\n      {/* Instructions */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <FileText className=\"h-5 w-5\" />\n            Instrucțiuni\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-2 text-sm\">\n            <p>Fișierul de import trebuie să conțină următoarele coloane:</p>\n            <ul className=\"list-disc list-inside space-y-1 text-slate-600 dark:text-slate-400\">\n              <li><strong>cod_material</strong> - Codul unic al materialului (obligatoriu)</li>\n              <li><strong>denumire</strong> - Denumirea materialului (obligatoriu)</li>\n              <li><strong>descriere</strong> - Descrierea materialului</li>\n              <li><strong>categorie</strong> - Categoria materialului</li>\n              <li><strong>unitate</strong> - Unitatea de măsură</li>\n              <li><strong>stoc_curent</strong> - Stocul curent</li>\n              <li><strong>nivel_critic</strong> - Nivelul critic de stoc</li>\n              <li><strong>pret_standard</strong> - Prețul standard în RON</li>\n              <li><strong>depozit</strong> - Numele depozitului</li>\n            </ul>\n            <p className=\"mt-4 text-slate-500\">\n              Formate acceptate: .xlsx, .xls, .csv | Dimensiune maximă: 10MB\n            </p>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Upload Area */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Încarcă Fișier</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div\n            className={`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${\n              isDragOver\n                ? 'border-primary bg-primary/5'\n                : 'border-slate-200 dark:border-slate-700 hover:border-primary/50'\n            }`}\n            onDragOver={handleDragOver}\n            onDragLeave={handleDragLeave}\n            onDrop={handleDrop}\n          >\n            {selectedFile ? (\n              <div className=\"space-y-4\">\n                <div className=\"flex items-center justify-center gap-3\">\n                  <FileSpreadsheet className=\"h-12 w-12 text-green-600\" />\n                  <div className=\"text-left\">\n                    <p className=\"font-medium\">{selectedFile.name}</p>\n                    <p className=\"text-sm text-slate-500\">\n                      {(selectedFile.size / 1024).toFixed(2)} KB\n                    </p>\n                  </div>\n                </div>\n                <div className=\"flex justify-center gap-2\">\n                  <Button variant=\"outline\" onClick={handleReset}>\n                    Schimbă Fișierul\n                  </Button>\n                  <Button\n                    onClick={handleImport}\n                    disabled={importMutation.isPending}\n                  >\n                    {importMutation.isPending && (\n                      <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                    )}\n                    <Upload className=\"mr-2 h-4 w-4\" />\n                    Importă\n                  </Button>\n                </div>\n              </div>\n            ) : (\n              <div className=\"space-y-4\">\n                <Package className=\"h-12 w-12 mx-auto text-slate-400\" />\n                <div>\n                  <p className=\"font-medium\">Trage fișierul aici sau click pentru a selecta</p>\n                  <p className=\"text-sm text-slate-500 mt-1\">\n                    Acceptă fișiere Excel (.xlsx, .xls) sau CSV\n                  </p>\n                </div>\n                <Label htmlFor=\"file-upload\" className=\"cursor-pointer\">\n                  <Input\n                    id=\"file-upload\"\n                    type=\"file\"\n                    accept=\".xlsx,.xls,.csv\"\n                    className=\"hidden\"\n                    onChange={(e) => handleFileSelect(e.target.files?.[0] || null)}\n                  />\n                  <Button variant=\"outline\" asChild>\n                    <span>Selectează Fișier</span>\n                  </Button>\n                </Label>\n              </div>\n            )}\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Preview Table */}\n      {previewData.length > 0 && !importResult && (\n        <Card>\n          <CardHeader>\n            <CardTitle>Previzualizare Date</CardTitle>\n            <CardDescription>\n              Primele {previewData.length} rânduri din fișier\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"rounded-md border overflow-x-auto\">\n              <Table>\n                <TableHeader>\n                  <TableRow>\n                    <TableHead className=\"w-12\">#</TableHead>\n                    <TableHead>Cod</TableHead>\n                    <TableHead>Denumire</TableHead>\n                    <TableHead>Categorie</TableHead>\n                    <TableHead>Unitate</TableHead>\n                    <TableHead className=\"text-right\">Stoc</TableHead>\n                    <TableHead className=\"text-right\">Critic</TableHead>\n                    <TableHead className=\"text-right\">Preț</TableHead>\n                    <TableHead>Depozit</TableHead>\n                    <TableHead>Status</TableHead>\n                  </TableRow>\n                </TableHeader>\n                <TableBody>\n                  {previewData.map((row) => (\n                    <TableRow key={row.rowNumber} className={!row.isValid ? 'bg-red-50 dark:bg-red-950/20' : ''}>\n                      <TableCell>{row.rowNumber}</TableCell>\n                      <TableCell className=\"font-medium\">{row.materialCode || '-'}</TableCell>\n                      <TableCell>{row.name || '-'}</TableCell>\n                      <TableCell>{row.category || '-'}</TableCell>\n                      <TableCell>{row.unit || '-'}</TableCell>\n                      <TableCell className=\"text-right\">{row.currentStock ?? '-'}</TableCell>\n                      <TableCell className=\"text-right\">{row.criticalLevel ?? '-'}</TableCell>\n                      <TableCell className=\"text-right\">{row.standardPrice?.toFixed(2) || '-'}</TableCell>\n                      <TableCell>{row.warehouse || '-'}</TableCell>\n                      <TableCell>\n                        {row.isValid ? (\n                          <Badge variant=\"outline\" className=\"bg-green-50 text-green-700 border-green-200\">\n                            <CheckCircle className=\"h-3 w-3 mr-1\" />\n                            Valid\n                          </Badge>\n                        ) : (\n                          <Badge variant=\"destructive\">\n                            <XCircle className=\"h-3 w-3 mr-1\" />\n                            Invalid\n                          </Badge>\n                        )}\n                      </TableCell>\n                    </TableRow>\n                  ))}\n                </TableBody>\n              </Table>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Import Result */}\n      {importResult && (\n        <div className=\"space-y-4\">\n          {importResult.imported > 0 && (\n            <Alert className=\"border-green-200 bg-green-50 dark:border-green-800 dark:bg-green-950/30\">\n              <CheckCircle className=\"h-4 w-4 text-green-600\" />\n              <AlertTitle className=\"text-green-800 dark:text-green-200\">Import Reușit</AlertTitle>\n              <AlertDescription className=\"text-green-700 dark:text-green-300\">\n                {importResult.imported} materiale au fost importate cu succes.\n              </AlertDescription>\n            </Alert>\n          )}\n\n          {importResult.errors.length > 0 && (\n            <Alert variant=\"destructive\">\n              <AlertTriangle className=\"h-4 w-4\" />\n              <AlertTitle>Erori la Import</AlertTitle>\n              <AlertDescription>\n                <ul className=\"mt-2 list-disc list-inside space-y-1\">\n                  {importResult.errors.slice(0, 10).map((error, index) => (\n                    <li key={index}>{error}</li>\n                  ))}\n                  {importResult.errors.length > 10 && (\n                    <li className=\"text-slate-500\">\n                      ... și încă {importResult.errors.length - 10} erori\n                    </li>\n                  )}\n                </ul>\n              </AlertDescription>\n            </Alert>\n          )}\n\n          <div className=\"flex gap-2\">\n            <Button variant=\"outline\" onClick={handleReset}>\n              Import Nou\n            </Button>\n            <Button asChild>\n              <Link href=\"/warehouse\">Vezi Materialele</Link>\n            </Button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}