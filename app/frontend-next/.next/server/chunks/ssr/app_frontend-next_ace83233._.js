module.exports=[26528,a=>{"use strict";var b=a.i(3236),c=a.i(92729);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,b.jsx)("table",{"data-slot":"table",className:(0,c.cn)("w-full caption-bottom text-sm",a),...d})})}function e({className:a,...d}){return(0,b.jsx)("thead",{"data-slot":"table-header",className:(0,c.cn)("[&_tr]:border-b",a),...d})}function f({className:a,...d}){return(0,b.jsx)("tbody",{"data-slot":"table-body",className:(0,c.cn)("[&_tr:last-child]:border-0",a),...d})}function g({className:a,...d}){return(0,b.jsx)("tr",{"data-slot":"table-row",className:(0,c.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",a),...d})}function h({className:a,...d}){return(0,b.jsx)("th",{"data-slot":"table-head",className:(0,c.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...d})}function i({className:a,...d}){return(0,b.jsx)("td",{"data-slot":"table-cell",className:(0,c.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...d})}a.s(["Table",()=>d,"TableBody",()=>f,"TableCell",()=>i,"TableHead",()=>h,"TableHeader",()=>e,"TableRow",()=>g])},90654,a=>{"use strict";let b=(0,a.i(82530).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);a.s(["Download",()=>b],90654)},14874,a=>{"use strict";let b=(0,a.i(82530).default)("car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);a.s(["Car",()=>b],14874)},35168,a=>{"use strict";let b=(0,a.i(82530).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Eye",()=>b],35168)},75859,a=>{"use strict";var b=a.i(89771);a.s(["X",()=>b.default])},18176,a=>{"use strict";let b=(0,a.i(82530).default)("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);a.s(["ArrowUpDown",()=>b],18176)},24786,a=>{"use strict";var b=a.i(3236),c=a.i(91485),d=a.i(36305),e=a.i(62158),f=a.i(54593),g=a.i(21944),h=a.i(87561),i=a.i(46863),j=a.i(92687),k=a.i(51710),l=a.i(68886),m=a.i(1656),n=a.i(35168),o=a.i(85866),p=a.i(80049),q=a.i(14874),r=a.i(33836),s=a.i(75859),t=a.i(18176),u=a.i(4393);a.i(84332);var v=a.i(52170),w=a.i(92729);function x(){let a=(0,d.useRouter)(),[x,y]=c.useState({page:1,pageSize:10}),[z,A]=c.useState(!1),[B,C]=c.useState(null),{data:D,isLoading:E,isError:F}=(0,v.useVehicles)(x),{data:G}=(0,v.useBrands)(),{data:H}=(0,v.useVehicleTypes)(),{data:I}=(0,v.useVehicleStatuses)(),J=(0,v.useDeleteVehicle)(),K=c.useMemo(()=>[{accessorKey:"vehicleCode",header:({column:a})=>(0,b.jsxs)(f.Button,{variant:"ghost",size:"sm",className:"-ml-3 h-8",onClick:()=>a.toggleSorting("asc"===a.getIsSorted()),children:["Cod",(0,b.jsx)(t.ArrowUpDown,{className:"ml-2 h-4 w-4"})]}),cell:({row:a})=>(0,b.jsx)("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:a.getValue("vehicleCode")})},{accessorKey:"licensePlate",header:"Nr. Inmatriculare",cell:({row:a})=>(0,b.jsx)("div",{className:"font-mono text-sm",children:a.getValue("licensePlate")})},{id:"brandModel",header:"Marca / Model",cell:({row:a})=>{let c=a.original;return(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium",children:c.brand?.name||"-"}),(0,b.jsx)("div",{className:"text-sm text-slate-500",children:c.model?.name||"-"})]})}},{accessorKey:"year",header:"An",cell:({row:a})=>a.getValue("year")||"-"},{accessorKey:"vehicleType",header:"Tip",cell:({row:a})=>{let b=a.original;return b.vehicleType?.name||"-"}},{accessorKey:"status",header:"Status",cell:({row:a})=>{let c=a.original.status;return c?(0,b.jsx)(g.Badge,{variant:"outline",className:(0,w.cn)("border-transparent",c.color&&`bg-[${c.color}]/10 text-[${c.color}]`),style:{backgroundColor:c.color?`${c.color}20`:void 0,color:c.color||void 0,borderColor:c.color||void 0},children:c.name}):"-"}},{accessorKey:"department",header:"Departament",cell:({row:a})=>{let b=a.original;return b.department?.name||"-"}},{accessorKey:"odometer",header:"Kilometraj",cell:({row:a})=>{let b=a.getValue("odometer");return b?`${b.toLocaleString("ro-RO")} km`:"-"}},{accessorKey:"isActive",header:"Activ",cell:({row:a})=>{let c=a.getValue("isActive");return(0,b.jsx)(g.Badge,{variant:c?"default":"secondary",children:c?"Activ":"Inactiv"})}},{id:"actions",header:"",cell:({row:c})=>{let d=c.original;return(0,b.jsxs)(h.DropdownMenu,{children:[(0,b.jsx)(h.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsxs)(f.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",children:[(0,b.jsx)(m.MoreHorizontal,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"sr-only",children:"Deschide meniu"})]})}),(0,b.jsxs)(h.DropdownMenuContent,{align:"end",children:[(0,b.jsx)(h.DropdownMenuLabel,{children:"Acțiuni"}),(0,b.jsx)(h.DropdownMenuSeparator,{}),(0,b.jsxs)(h.DropdownMenuItem,{onClick:()=>a.push(`/vehicles/${d.id}`),children:[(0,b.jsx)(n.Eye,{className:"mr-2 h-4 w-4"}),"Vizualizare"]}),(0,b.jsxs)(h.DropdownMenuItem,{onClick:()=>a.push(`/vehicles/${d.id}/edit`),children:[(0,b.jsx)(o.Pencil,{className:"mr-2 h-4 w-4"}),"Editare"]}),(0,b.jsxs)(h.DropdownMenuItem,{onClick:()=>a.push(`/vehicles/${d.id}/documents`),children:[(0,b.jsx)(u.FileText,{className:"mr-2 h-4 w-4"}),"Documente"]}),(0,b.jsx)(h.DropdownMenuSeparator,{}),(0,b.jsxs)(h.DropdownMenuItem,{onClick:()=>C(d.id),className:"text-red-600 focus:text-red-600",children:[(0,b.jsx)(p.Trash2,{className:"mr-2 h-4 w-4"}),"Șterge"]})]})]})}}],[a]),L=(a,b)=>{y(c=>({...c,[a]:"all"===b?void 0:b,page:1}))},M=x.brandId||x.vehicleTypeId||x.statusId||x.search,N=async()=>{B&&(await J.mutateAsync(B),C(null))};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold tracking-tight text-slate-900 dark:text-slate-100",children:"Vehicule"}),(0,b.jsx)("p",{className:"text-sm text-slate-500",children:"Gestionează flota de vehicule a companiei"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)(f.Button,{variant:"outline",size:"sm",onClick:()=>A(!z),className:(0,w.cn)(M&&"border-blue-500 text-blue-600"),children:[(0,b.jsx)(r.Filter,{className:"mr-2 h-4 w-4"}),"Filtre",M&&(0,b.jsx)(g.Badge,{variant:"secondary",className:"ml-2 h-5 px-1.5",children:[x.brandId,x.vehicleTypeId,x.statusId,x.search].filter(Boolean).length})]}),(0,b.jsxs)(f.Button,{onClick:()=>a.push("/vehicles/new"),children:[(0,b.jsx)(l.Plus,{className:"mr-2 h-4 w-4"}),"Vehicul nou"]})]})]}),z&&(0,b.jsxs)(k.Card,{children:[(0,b.jsx)(k.CardHeader,{className:"pb-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(k.CardTitle,{className:"text-base",children:"Filtre"}),M&&(0,b.jsxs)(f.Button,{variant:"ghost",size:"sm",onClick:()=>{y({page:1,pageSize:x.pageSize})},children:[(0,b.jsx)(s.X,{className:"mr-2 h-4 w-4"}),"Resetează"]})]})}),(0,b.jsx)(k.CardContent,{children:(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Marca"}),(0,b.jsxs)(j.Select,{value:x.brandId?.toString()||"all",onValueChange:a=>L("brandId","all"===a?void 0:parseInt(a)),children:[(0,b.jsx)(j.SelectTrigger,{children:(0,b.jsx)(j.SelectValue,{placeholder:"Toate mărcile"})}),(0,b.jsxs)(j.SelectContent,{children:[(0,b.jsx)(j.SelectItem,{value:"all",children:"Toate mărcile"}),G?.map(a=>(0,b.jsx)(j.SelectItem,{value:a.id.toString(),children:a.name},a.id))]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Tip vehicul"}),(0,b.jsxs)(j.Select,{value:x.vehicleTypeId?.toString()||"all",onValueChange:a=>L("vehicleTypeId","all"===a?void 0:parseInt(a)),children:[(0,b.jsx)(j.SelectTrigger,{children:(0,b.jsx)(j.SelectValue,{placeholder:"Toate tipurile"})}),(0,b.jsxs)(j.SelectContent,{children:[(0,b.jsx)(j.SelectItem,{value:"all",children:"Toate tipurile"}),H?.map(a=>(0,b.jsx)(j.SelectItem,{value:a.id.toString(),children:a.name},a.id))]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Status"}),(0,b.jsxs)(j.Select,{value:x.statusId?.toString()||"all",onValueChange:a=>L("statusId","all"===a?void 0:parseInt(a)),children:[(0,b.jsx)(j.SelectTrigger,{children:(0,b.jsx)(j.SelectValue,{placeholder:"Toate statusurile"})}),(0,b.jsxs)(j.SelectContent,{children:[(0,b.jsx)(j.SelectItem,{value:"all",children:"Toate statusurile"}),I?.map(a=>(0,b.jsx)(j.SelectItem,{value:a.id.toString(),children:a.name},a.id))]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Stare"}),(0,b.jsxs)(j.Select,{value:x.isActive?.toString()||"all",onValueChange:a=>L("isActive","all"===a?void 0:"true"===a),children:[(0,b.jsx)(j.SelectTrigger,{children:(0,b.jsx)(j.SelectValue,{placeholder:"Toate"})}),(0,b.jsxs)(j.SelectContent,{children:[(0,b.jsx)(j.SelectItem,{value:"all",children:"Toate"}),(0,b.jsx)(j.SelectItem,{value:"true",children:"Active"}),(0,b.jsx)(j.SelectItem,{value:"false",children:"Inactive"})]})]})]})]})})]}),(0,b.jsx)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:(0,b.jsx)(k.Card,{children:(0,b.jsx)(k.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"rounded-lg bg-blue-100 p-3 dark:bg-blue-900/30",children:(0,b.jsx)(q.Car,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-slate-500",children:"Total vehicule"}),(0,b.jsx)("p",{className:"text-2xl font-bold",children:E?"-":D?.pagination.totalItems||0})]})]})})})}),(0,b.jsx)(k.Card,{children:(0,b.jsx)(k.CardContent,{className:"pt-6",children:(0,b.jsx)(e.DataTable,{columns:K,data:D?.data||[],loading:E,searchPlaceholder:"Caută după cod, nr. înmatriculare...",serverSide:!0,totalItems:D?.pagination.totalItems,currentPage:x.page||1,pageSize:x.pageSize||10,onPageChange:a=>y(b=>({...b,page:a})),onPageSizeChange:a=>y(b=>({...b,pageSize:a,page:1})),onSearchChange:a=>y(b=>({...b,search:a,page:1})),onSortChange:(a,b)=>y(c=>({...c,sortBy:a,sortOrder:b}))})})}),(0,b.jsx)(i.AlertDialog,{open:!!B,onOpenChange:a=>!a&&C(null),children:(0,b.jsxs)(i.AlertDialogContent,{children:[(0,b.jsxs)(i.AlertDialogHeader,{children:[(0,b.jsx)(i.AlertDialogTitle,{children:"Ești sigur că vrei să ștergi acest vehicul?"}),(0,b.jsx)(i.AlertDialogDescription,{children:"Această acțiune nu poate fi anulată. Vehiculul va fi marcat ca inactiv și nu va mai apărea în listele active."})]}),(0,b.jsxs)(i.AlertDialogFooter,{children:[(0,b.jsx)(i.AlertDialogCancel,{children:"Anulează"}),(0,b.jsx)(i.AlertDialogAction,{onClick:N,className:"bg-red-600 hover:bg-red-700",children:"Șterge"})]})]})})]})}a.s(["default",()=>x])}];

//# sourceMappingURL=app_frontend-next_ace83233._.js.map