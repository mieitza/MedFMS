module.exports=[51710,a=>{"use strict";var b=a.i(3236),c=a.i(92729);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f])},9307,a=>{"use strict";var b=a.i(3236),c=a.i(91485);a.i(19232);var d=a.i(30833),e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,e)=>{let f=(0,d.createSlot)(`Primitive.${e}`),g=c.forwardRef((a,c)=>{let{asChild:d,...g}=a;return(0,b.jsx)(d?f:e,{...g,ref:c})});return g.displayName=`Primitive.${e}`,{...a,[e]:g}},{}),f=c.forwardRef((a,c)=>(0,b.jsx)(e.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));f.displayName="Label";var g=a.i(92729);function h({className:a,...c}){return(0,b.jsx)(f,{"data-slot":"label",className:(0,g.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...c})}a.s(["Label",()=>h],9307)},46863,a=>{"use strict";let b;var c=a.i(3236),d=a.i(91485),e=a.i(58039),f=a.i(81355),g=a.i(24507),h=a.i(8288),i=Symbol("radix.slottable"),j="AlertDialog",[k,l]=(0,e.createContextScope)(j,[g.createDialogScope]),m=(0,g.createDialogScope)(),n=a=>{let{__scopeAlertDialog:b,...d}=a,e=m(b);return(0,c.jsx)(g.Root,{...e,...d,modal:!0})};n.displayName=j;var o=d.forwardRef((a,b)=>{let{__scopeAlertDialog:d,...e}=a,f=m(d);return(0,c.jsx)(g.Trigger,{...f,...e,ref:b})});o.displayName="AlertDialogTrigger";var p=a=>{let{__scopeAlertDialog:b,...d}=a,e=m(b);return(0,c.jsx)(g.Portal,{...e,...d})};p.displayName="AlertDialogPortal";var q=d.forwardRef((a,b)=>{let{__scopeAlertDialog:d,...e}=a,f=m(d);return(0,c.jsx)(g.Overlay,{...f,...e,ref:b})});q.displayName="AlertDialogOverlay";var r="AlertDialogContent",[s,t]=k(r),u=((b=({children:a})=>(0,c.jsx)(c.Fragment,{children:a})).displayName="AlertDialogContent.Slottable",b.__radixId=i,b),v=d.forwardRef((a,b)=>{let{__scopeAlertDialog:e,children:i,...j}=a,k=m(e),l=d.useRef(null),n=(0,f.useComposedRefs)(b,l),o=d.useRef(null);return(0,c.jsx)(g.WarningProvider,{contentName:r,titleName:w,docsSlug:"alert-dialog",children:(0,c.jsx)(s,{scope:e,cancelRef:o,children:(0,c.jsxs)(g.Content,{role:"alertdialog",...k,...j,ref:n,onOpenAutoFocus:(0,h.composeEventHandlers)(j.onOpenAutoFocus,a=>{a.preventDefault(),o.current?.focus({preventScroll:!0})}),onPointerDownOutside:a=>a.preventDefault(),onInteractOutside:a=>a.preventDefault(),children:[(0,c.jsx)(u,{children:i}),(0,c.jsx)(D,{contentRef:l})]})})})});v.displayName=r;var w="AlertDialogTitle",x=d.forwardRef((a,b)=>{let{__scopeAlertDialog:d,...e}=a,f=m(d);return(0,c.jsx)(g.Title,{...f,...e,ref:b})});x.displayName=w;var y="AlertDialogDescription",z=d.forwardRef((a,b)=>{let{__scopeAlertDialog:d,...e}=a,f=m(d);return(0,c.jsx)(g.Description,{...f,...e,ref:b})});z.displayName=y;var A=d.forwardRef((a,b)=>{let{__scopeAlertDialog:d,...e}=a,f=m(d);return(0,c.jsx)(g.Close,{...f,...e,ref:b})});A.displayName="AlertDialogAction";var B="AlertDialogCancel",C=d.forwardRef((a,b)=>{let{__scopeAlertDialog:d,...e}=a,{cancelRef:h}=t(B,d),i=m(d),j=(0,f.useComposedRefs)(b,h);return(0,c.jsx)(g.Close,{...i,...e,ref:j})});C.displayName=B;var D=({contentRef:a})=>{let b=`\`${r}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${r}\` by passing a \`${y}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${r}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return d.useEffect(()=>{document.getElementById(a.current?.getAttribute("aria-describedby"))||console.warn(b)},[b,a]),null},E=a.i(92729),F=a.i(54593);function G({...a}){return(0,c.jsx)(n,{"data-slot":"alert-dialog",...a})}function H({...a}){return(0,c.jsx)(o,{"data-slot":"alert-dialog-trigger",...a})}function I({...a}){return(0,c.jsx)(p,{"data-slot":"alert-dialog-portal",...a})}function J({className:a,...b}){return(0,c.jsx)(q,{"data-slot":"alert-dialog-overlay",className:(0,E.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...b})}function K({className:a,...b}){return(0,c.jsxs)(I,{children:[(0,c.jsx)(J,{}),(0,c.jsx)(v,{"data-slot":"alert-dialog-content",className:(0,E.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...b})]})}function L({className:a,...b}){return(0,c.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,E.cn)("flex flex-col gap-2 text-center sm:text-left",a),...b})}function M({className:a,...b}){return(0,c.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,E.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",a),...b})}function N({className:a,...b}){return(0,c.jsx)(x,{"data-slot":"alert-dialog-title",className:(0,E.cn)("text-lg font-semibold",a),...b})}function O({className:a,...b}){return(0,c.jsx)(z,{"data-slot":"alert-dialog-description",className:(0,E.cn)("text-muted-foreground text-sm",a),...b})}function P({className:a,...b}){return(0,c.jsx)(A,{className:(0,E.cn)((0,F.buttonVariants)(),a),...b})}function Q({className:a,...b}){return(0,c.jsx)(C,{className:(0,E.cn)((0,F.buttonVariants)({variant:"outline"}),a),...b})}a.s(["AlertDialog",()=>G,"AlertDialogAction",()=>P,"AlertDialogCancel",()=>Q,"AlertDialogContent",()=>K,"AlertDialogDescription",()=>O,"AlertDialogFooter",()=>M,"AlertDialogHeader",()=>L,"AlertDialogTitle",()=>N,"AlertDialogTrigger",()=>H],46863)},46811,a=>{"use strict";let b=(0,a.i(82530).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["Calendar",()=>b],46811)},25035,a=>{"use strict";let b=(0,a.i(82530).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);a.s(["Mail",()=>b],25035)},74272,a=>{"use strict";let b=(0,a.i(82530).default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);a.s(["Shield",()=>b],74272)},47373,a=>{"use strict";let b=(0,a.i(82530).default)("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]]);a.s(["Building2",()=>b],47373)},45210,a=>{"use strict";var b=a.i(3236),c=a.i(91485),d=a.i(36305),e=a.i(51710),f=a.i(54593),g=a.i(64725),h=a.i(9307),i=a.i(21944),j=a.i(46863),k=a.i(61335),l=a.i(15505),m=a.i(25035),n=a.i(47373),o=a.i(74272),p=a.i(46811);let q=(0,a.i(82530).default)("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);var r=a.i(33826),s=a.i(92402),t=a.i(36660),u=a.i(69140);let v={admin:"Administrator",manager:"Manager",operator:"Operator",viewer:"Vizualizator"},w={admin:"bg-red-100 text-red-800 border-red-200",manager:"bg-blue-100 text-blue-800 border-blue-200",operator:"bg-green-100 text-green-800 border-green-200",viewer:"bg-slate-100 text-slate-800 border-slate-200"};function x({icon:a,label:c,value:d}){return(0,b.jsxs)("div",{className:"flex items-start gap-4 py-3 border-b last:border-b-0",children:[(0,b.jsx)("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center",children:(0,b.jsx)(a,{className:"h-5 w-5 text-slate-600 dark:text-slate-400"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:c}),(0,b.jsx)("div",{className:"text-base font-medium mt-0.5",children:d||"-"})]})]})}function y(){let a=(0,d.useRouter)(),y=(0,t.useUser)(),z=(0,t.useAuthStore)(a=>a.logout),[A,B]=(0,c.useState)(!1),[C,D]=(0,c.useState)(""),[E,F]=(0,c.useState)(""),[G,H]=(0,c.useState)(""),[I,J]=(0,c.useState)(""),[K,L]=(0,c.useState)(!1),M=async()=>{await z(),a.push("/login")},N=async()=>{if(J(""),!C||!E||!G)return void J("Toate câmpurile sunt obligatorii");if(E.length<4)return void J("PIN-ul nou trebuie să aibă minim 4 caractere");if(E!==G)return void J("PIN-urile nu coincid");L(!0);try{await u.authApi.changePin(C,E),k.toast.success("PIN-ul a fost schimbat cu succes"),B(!1),D(""),F(""),H("")}catch(a){J(a instanceof Error?a.message:"PIN-ul vechi este incorect")}finally{L(!1)}};return y?(0,b.jsxs)("div",{className:"space-y-6 max-w-3xl mx-auto",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Profilul Meu"}),(0,b.jsx)("p",{className:"text-slate-500 dark:text-slate-400",children:"Vizualizează și gestionează informațiile contului tău"})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"h-16 w-16 rounded-full bg-primary/10 flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-2xl font-bold text-primary",children:y.fullName.split(" ").map(a=>a[0]).join("").toUpperCase().slice(0,2)})}),(0,b.jsxs)("div",{children:[(0,b.jsx)(e.CardTitle,{className:"text-xl",children:y.fullName}),(0,b.jsxs)(e.CardDescription,{children:["@",y.username]})]})]})}),(0,b.jsxs)(e.CardContent,{className:"space-y-0",children:[(0,b.jsx)(x,{icon:l.User,label:"Nume utilizator",value:y.username}),(0,b.jsx)(x,{icon:m.Mail,label:"Email",value:y.email||"Neset"}),(0,b.jsx)(x,{icon:o.Shield,label:"Rol",value:(0,b.jsx)(i.Badge,{className:w[y.role]||w.viewer,children:v[y.role]||y.role})}),(0,b.jsx)(x,{icon:n.Building2,label:"Departament",value:y.departmentId?`ID: ${y.departmentId}`:"Neatribuit"}),(0,b.jsx)(x,{icon:p.Calendar,label:"Cont creat",value:new Date(y.createdAt).toLocaleDateString("ro-RO",{day:"numeric",month:"long",year:"numeric"})})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsxs)(e.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(q,{className:"h-5 w-5"}),"Securitate"]}),(0,b.jsx)(e.CardDescription,{children:"Gestionează setările de securitate ale contului"})]}),(0,b.jsx)(e.CardContent,{children:A?(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"oldPin",children:"PIN actual"}),(0,b.jsx)(g.Input,{id:"oldPin",type:"password",placeholder:"Introdu PIN-ul actual",value:C,onChange:a=>D(a.target.value),disabled:K})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"newPin",children:"PIN nou"}),(0,b.jsx)(g.Input,{id:"newPin",type:"password",placeholder:"Introdu noul PIN",value:E,onChange:a=>F(a.target.value),disabled:K})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"confirmPin",children:"Confirmă PIN nou"}),(0,b.jsx)(g.Input,{id:"confirmPin",type:"password",placeholder:"Confirmă noul PIN",value:G,onChange:a=>H(a.target.value),disabled:K})]}),I&&(0,b.jsx)("p",{className:"text-sm text-red-600",children:I}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(f.Button,{onClick:N,disabled:K,children:[K&&(0,b.jsx)(s.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Salvează"]}),(0,b.jsx)(f.Button,{variant:"outline",onClick:()=>{D(""),F(""),H(""),J(""),B(!1)},disabled:K,children:"Anulează"})]})]}):(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:"PIN de acces"}),(0,b.jsx)("p",{className:"text-sm text-slate-500",children:"Schimbă PIN-ul folosit pentru autentificare"})]}),(0,b.jsxs)(f.Button,{variant:"outline",onClick:()=>B(!0),children:[(0,b.jsx)(q,{className:"mr-2 h-4 w-4"}),"Schimbă PIN"]})]})})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsx)(e.CardTitle,{children:"Acțiuni Cont"})}),(0,b.jsx)(e.CardContent,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:"Deconectare"}),(0,b.jsx)("p",{className:"text-sm text-slate-500",children:"Ieși din contul curent pe acest dispozitiv"})]}),(0,b.jsxs)(j.AlertDialog,{children:[(0,b.jsx)(j.AlertDialogTrigger,{asChild:!0,children:(0,b.jsxs)(f.Button,{variant:"destructive",children:[(0,b.jsx)(r.LogOut,{className:"mr-2 h-4 w-4"}),"Deconectare"]})}),(0,b.jsxs)(j.AlertDialogContent,{children:[(0,b.jsxs)(j.AlertDialogHeader,{children:[(0,b.jsx)(j.AlertDialogTitle,{children:"Confirmare deconectare"}),(0,b.jsx)(j.AlertDialogDescription,{children:"Ești sigur că dorești să te deconectezi? Va trebui să introduci PIN-ul din nou pentru a te autentifica."})]}),(0,b.jsxs)(j.AlertDialogFooter,{children:[(0,b.jsx)(j.AlertDialogCancel,{children:"Anulează"}),(0,b.jsx)(j.AlertDialogAction,{onClick:M,children:"Deconectează-mă"})]})]})]})]})})]}),(0,b.jsx)("div",{className:"text-center",children:(0,b.jsx)(i.Badge,{variant:y.isActive?"default":"destructive",className:"text-sm",children:y.isActive?"Cont Activ":"Cont Inactiv"})})]}):(0,b.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,b.jsx)(s.Loader2,{className:"h-8 w-8 animate-spin text-slate-400"})})}a.s(["default",()=>y],45210)}];

//# sourceMappingURL=app_frontend-next_7f20c8de._.js.map