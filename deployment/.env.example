# MedFMS Production Environment Configuration
# Copy this file to .env.production and fill in your values

#==============================================================================
# DEPLOYMENT CONFIGURATION
#==============================================================================
REPO_URL=https://github.com/mieitza/MedFMS.git
BRANCH=main
DOMAIN=medfms.yourdomain.com
EMAIL=admin@yourdomain.com

#==============================================================================
# APPLICATION CONFIGURATION
#==============================================================================
NODE_ENV=production
PORT=3000

#==============================================================================
# DATABASE CONFIGURATION
#==============================================================================
# SQLite database path (will be created automatically)
DATABASE_PATH=/var/www/medfms/data/db/database.sqlite

# Database backup settings
DATABASE_BACKUP_ENABLED=true
DATABASE_BACKUP_RETENTION_DAYS=30

#==============================================================================
# AUTHENTICATION & SECURITY
#==============================================================================
# JWT Secret - MUST BE CHANGED! Generate with: openssl rand -base64 64
JWT_SECRET=CHANGE_THIS_TO_A_VERY_LONG_RANDOM_STRING_MINIMUM_32_CHARACTERS

# JWT Token expiration (in seconds or time string like '7d', '24h')
JWT_EXPIRATION=7d

# Bcrypt rounds for password hashing (10-12 recommended for production)
BCRYPT_ROUNDS=12

# Session secret - MUST BE CHANGED! Generate with: openssl rand -base64 32
SESSION_SECRET=CHANGE_THIS_TO_A_DIFFERENT_LONG_RANDOM_STRING

#==============================================================================
# CORS CONFIGURATION
#==============================================================================
# Allowed origins for CORS (comma-separated)
CORS_ORIGIN=https://medfms.yourdomain.com

# Allow credentials
CORS_CREDENTIALS=true

#==============================================================================
# RATE LIMITING
#==============================================================================
# Requests per minute per IP
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=1000

# Login rate limiting (to prevent brute force)
LOGIN_RATE_LIMIT_WINDOW_MS=900000
LOGIN_RATE_LIMIT_MAX_ATTEMPTS=5

#==============================================================================
# LOGGING
#==============================================================================
# Log level: error, warn, info, debug
LOG_LEVEL=info

# Log file paths
LOG_FILE_PATH=/var/log/medfms/application.log
ERROR_LOG_PATH=/var/log/medfms/error.log

#==============================================================================
# FILE UPLOAD
#==============================================================================
# Maximum file upload size (in bytes)
MAX_FILE_SIZE=10485760

# Upload directory
UPLOAD_DIR=/var/www/medfms/data/uploads

#==============================================================================
# EMAIL CONFIGURATION (Optional - for notifications)
#==============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
EMAIL_FROM=noreply@yourdomain.com

#==============================================================================
# BACKUP CONFIGURATION
#==============================================================================
# Backup directory
BACKUP_DIR=/var/backups/medfms

# Automatic backup schedule (cron format)
BACKUP_SCHEDULE=0 2 * * *

# Number of backups to keep
BACKUP_RETENTION=30

#==============================================================================
# MONITORING & HEALTH CHECK
#==============================================================================
# Enable health check endpoint
HEALTH_CHECK_ENABLED=true

# Health check path
HEALTH_CHECK_PATH=/api/health

#==============================================================================
# FRONTEND CONFIGURATION
#==============================================================================
# Public URL of the application
PUBLIC_URL=https://medfms.yourdomain.com

# API endpoint
VITE_API_URL=https://medfms.yourdomain.com/api

# Enable/disable features
VITE_ENABLE_ANALYTICS=false
VITE_ENABLE_ERROR_REPORTING=true

#==============================================================================
# PERFORMANCE
#==============================================================================
# Enable compression
ENABLE_COMPRESSION=true

# Cache max age (in seconds)
CACHE_MAX_AGE=31536000

# Enable HTTP/2
ENABLE_HTTP2=true

#==============================================================================
# TIMEZONE
#==============================================================================
TZ=Europe/Bucharest

#==============================================================================
# MAINTENANCE MODE
#==============================================================================
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=The system is currently under maintenance. Please try again later.
